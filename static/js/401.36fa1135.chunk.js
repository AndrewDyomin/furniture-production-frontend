(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[401],{381:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var a=t(3439),s=t(7948),i=t.n(s),r="PopUp_modalCloseButton__m06-1",c="PopUp_menuIcon__5-11v",l=t(184),o=function(e){var n=e.isOpen,t=e.close,s=e.body;return(0,l.jsxs)(i(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,l.jsx)("button",{className:r,type:"button",onClick:t,children:(0,l.jsx)("svg",{className:c,children:(0,l.jsx)("use",{href:"".concat(a.Z,"#icon-close-circle")})})}),s]})}},2090:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var a=t(9439),s=t(7689),i=t(4420),r=(t(8040),t(197)),c=t(9654),l=t(5536),o=t(5612),u={section:"ProductDetails_section__nPSK1",title:"ProductDetails_title__Qkudl",image:"ProductDetails_image__LbA4l",baseInfoTitle:"ProductDetails_baseInfoTitle__0a0ed",price:"ProductDetails_price__DFFDm",adminBlock:"ProductDetails_adminBlock__bY86e"},d=t(2791),m=t(9230),p=t(5842),h=t(7834),f=t(5861),v=t(3433),x=t(4687),b=t.n(x),j={delModalWrapper:"AdminMenu_delModalWrapper__Gfzrs",formWrapper:"AdminMenu_formWrapper__ybfPv",formItem:"AdminMenu_formItem__KchmS",label:"AdminMenu_label__UnqU9",field:"AdminMenu_field__bFN4e",quantityField:"AdminMenu_quantityField__Kt6mI",inputArray:"AdminMenu_inputArray__+FLIB",selectComponent:"AdminMenu_selectComponent__6Gq8o",minBtn:"AdminMenu_minBtn__BCYDU",btn:"AdminMenu_btn__7lnqu",delBtn:"AdminMenu_delBtn__LcZEy",modalSubmitButton:"AdminMenu_modalSubmitButton__lp4X-"},g=t(381),_=t(5705),N=t(5294),y=t(184);N.Z.defaults.baseURL="http://localhost:3030/";var I=function(e){var n=(0,i.I0)(),t=(0,m.$G)().t,s=(0,i.v9)(c.K),r=(0,i.v9)(l._).array,u=s.components.length>0?s.components:[""],h=[],x=[],I=[];try{r.forEach((function(e){h.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}))}catch(R){}try{u.forEach((function(e){x.push(e.id),I.push(e.quantity)}))}catch($){}var C=(0,d.useState)(!1),Z=(0,a.Z)(C,2),S=Z[0],w=Z[1],k=(0,d.useState)([].concat(x)),F=(0,a.Z)(k,2),M=F[0],A=F[1],D=(0,d.useState)([].concat(I)),P=(0,a.Z)(D,2),z=P[0],W=P[1],O=(0,d.useState)(!1),B=(0,a.Z)(O,2),E=B[0],L=B[1],T=(0,d.useState)([]),U=(0,a.Z)(T,2),V=U[0],q=U[1];(0,d.useEffect)((function(){A([].concat(x)),W([].concat(I))}),[S]);var H=function(){w(!1),document.body.classList.remove("modal-open")},G=function(){L(!1),document.body.classList.remove("modal-open")},K=function(e){try{return h.find((function(n){return n.value===e})).label}catch(n){return"Select..."}};return(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{onClick:function(){L(!0),document.body.classList.add("modal-open")},className:j.btn,children:t("delete")}),(0,y.jsx)("button",{className:j.btn,onClick:function(){w(!0),document.body.classList.add("modal-open")},children:t("edit")}),(0,y.jsx)(g.N,{isOpen:S,close:H,className:j.modalContent,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:t("edit mode")}),(0,y.jsx)(_.J9,{initialValues:{name:s.name,dimensions:{width:s.dimensions.width,height:s.dimensions.height,depth:s.dimensions.depth},description:s.description,basePrice:s.basePrice,components:M,quantity:z,images:s.images},onSubmit:function(){var n=(0,f.Z)(b().mark((function n(t){var a,s,i,r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=new FormData,s=[],t.images.forEach((function(e,n){a.append("images[".concat(n,"]"),t.images[n])})),V.forEach((function(e){a.append("file",e)})),i=JSON.stringify(t.dimensions),a.append("dimensions",i),a.append("name",t.name),a.append("description",t.description),a.append("basePrice",t.basePrice),a.append("_id",e.id),M.forEach((function(e,n){var t=e,a=z[n];s.push({id:t,quantity:a})})),r=JSON.stringify(s),a.append("components",r),n.next=16,N.Z.post("/collections/update",a,{headers:{"Content-Type":"multipart/form-data"}});case 16:H(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.log(n.t0);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}(),children:(0,y.jsxs)(_.l0,{className:j.formWrapper,children:[(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"name",children:t("unit name")}),(0,y.jsx)(_.gN,{className:j.field,id:"name",name:"name"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.width",children:t("width")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.depth",children:t("depth")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.height",children:t("height")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"description",children:t("description")}),(0,y.jsx)(_.gN,{className:j.field,id:"description",name:"description",placeholder:"Description"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"basePrice",children:t("base price")}),(0,y.jsx)(_.gN,{className:j.field,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,y.jsx)("div",{className:j.formItem,children:(0,y.jsx)(_.F2,{name:"images",render:function(e){return(0,y.jsx)("div",{className:j.field,children:e.form.values.images.map((function(n,a){return(0,y.jsxs)("div",{className:j.inputItem,children:[(0,y.jsx)("img",{src:n,alt:n,width:"200px"}),(0,y.jsx)("button",{className:j.btn,type:"button",onClick:function(){return e.remove(a)},children:t("delete")})]},a)}))})}})}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"files",children:t("add new images")}),(0,y.jsx)(_.gN,{className:j.field,id:"files",name:"files",type:"file",onChange:function(e){q((0,v.Z)(e.target.files))},multiple:!0})]}),(0,y.jsx)("div",{className:j.formItem,children:(0,y.jsx)(_.F2,{name:"components",render:function(e){return(0,y.jsx)("div",{children:M.map((function(e,n){return(0,y.jsxs)("div",{className:j.inputArray,children:[(0,y.jsx)(_.gN,{component:p.ZP,className:j.selectComponent,name:"components.".concat(n),onChange:function(e){return A((function(t){var a=(0,v.Z)(t);return a[n]=e.value,a}))},options:h,placeholder:K(e)}),(0,y.jsx)(_.gN,{className:"".concat(j.field," ").concat(j.quantityField),name:"quantity.".concat(n),value:z[n]||"",onChange:function(e){return W((function(t){var a=(0,v.Z)(t);return a[n]=e.target.value,a}))},placeholder:"Quantity"}),M.length>1?(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return function(e){A((function(n){return n.filter((function(n){return n!==e}))})),W((function(n){return n.filter((function(n,t){return M[t]!==e}))}))}(e)},children:"-"}):(0,y.jsx)(y.Fragment,{}),n===M.length-1&&(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return A((function(e){return[].concat((0,v.Z)(e),[""])})),void W((function(e){return[].concat((0,v.Z)(e),[""])}))},children:"+"})]},e)}))})}})}),(0,y.jsx)("button",{type:"submit",className:"".concat(j.btn," ").concat(j.modalSubmitButton),children:t("submit")})]})})]})}),(0,y.jsx)(g.N,{isOpen:E,close:G,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:[t("are you sure"),"???"]}),(0,y.jsxs)("div",{className:j.delModalWrapper,children:[(0,y.jsx)("button",{onClick:G,className:j.btn,children:t("cancel")}),(0,y.jsx)("button",{onClick:function(){n((0,o.Ir)(e))},className:"".concat(j.btn," ").concat(j.delBtn),children:t("delete")})]})]})})]})},C=t(7762),Z={calcHeader:"ManagerOptions_calcHeader__MCCJx",calcArea:"ManagerOptions_calcArea__iO44i",schemaArea:"ManagerOptions_schemaArea__yTzrP",inputsArea:"ManagerOptions_inputsArea__TTiKG",sizeInput:"ManagerOptions_sizeInput__2CgY1",sleepSizeInput:"ManagerOptions_sleepSizeInput__Wxrf4",proportionsBtnWrapper:"ManagerOptions_proportionsBtnWrapper__xwmA5",btn:"ManagerOptions_btn__85RSr",bedDetailsWrapper:"ManagerOptions_bedDetailsWrapper__Yuev9"},S=t(744),w=t(7966),k=t.n(w);N.Z.defaults.baseURL="http://localhost:3030/";var F=function(){var e=(0,m.$G)().t,n=(0,i.I0)(),s=(0,i.v9)((function(e){return e.products.activeItem})),r=(0,i.v9)((function(e){return e.fabrics.items})),c=(0,d.useState)(null),l=(0,a.Z)(c,2),o=l[0],u=l[1],h=(0,d.useState)(s.dimensions.width||0),x=(0,a.Z)(h,2),j=x[0],g=x[1],_=(0,d.useState)(s.dimensions.depth||0),I=(0,a.Z)(_,2),w=I[0],F=I[1],M=(0,d.useState)(Number(160)),A=(0,a.Z)(M,2),D=A[0],P=A[1],z=(0,d.useState)(Number(200)),W=(0,a.Z)(z,2),O=W[0],B=W[1],E=(0,d.useState)({value:!0}),L=(0,a.Z)(E,2),T=L[0],U=L[1],V=(0,d.useState)("Standard"),q=(0,a.Z)(V,2),H=q[0],G=q[1],K=(0,d.useState)(10),R=(0,a.Z)(K,2),$=R[0],J=R[1],Y=(0,d.useState)("Standard"),Q=(0,a.Z)(Y,2),X=Q[0],ee=Q[1],ne=(0,d.useState)(5),te=(0,a.Z)(ne,2),ae=te[0],se=te[1],ie=(0,d.useState)({value:"7",label:"7"}),re=(0,a.Z)(ie,2),ce=re[0],le=re[1],oe=(0,d.useState)([]),ue=(0,a.Z)(oe,2),de=ue[0],me=ue[1],pe=(0,d.useState)({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),he=(0,a.Z)(pe,2),fe=he[0],ve=he[1],xe=(0,d.useState)([]),be=(0,a.Z)(xe,2),je=be[0],ge=be[1],_e=(0,d.useState)({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),Ne=(0,a.Z)(_e,2),ye=Ne[0],Ie=Ne[1],Ce=(0,d.useState)(""),Ze=(0,a.Z)(Ce,2),Se=Ze[0],we=Ze[1];(0,d.useEffect)((function(){0===r.length&&n((0,S.T)())}),[n,r.length]),(0,d.useEffect)((function(){if(r&&r.length>0){var e=r.map((function(e){return{value:e.title,label:e.title.charAt(0).toUpperCase()+e.title.slice(1)}}));me([{value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}].concat((0,v.Z)(e)))}}),[r]),(0,d.useEffect)((function(){if("\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"!==fe.value){var e,n=r.find((function(e){return e.title===fe.value})),t=[],a=(0,C.Z)(n.array);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push({value:"".concat(s.name," -$").concat(s.price),label:"".concat(s.name.charAt(0).toUpperCase()+s.name.slice(1)," -$").concat(s.price)})}}catch(i){a.e(i)}finally{a.f()}Ie({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),ge([{value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}].concat(t))}}),[fe,r]);var ke=(0,d.useRef)(null),Fe=(0,d.useState)({width:0,height:0}),Me=(0,a.Z)(Fe,2),Ae=Me[0],De=Me[1];(0,d.useEffect)((function(){var e=function(){ke.current&&De({width:ke.current.offsetWidth,height:ke.current.offsetHeight})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,d.useEffect)((function(){var e=function(){var e=(0,f.Z)(b().mark((function e(){var n,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(3604)("./".concat(s.name));case 3:n=e.sent,u((function(){return n.default})),e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Promise.all([t.e(363),t.e(417)]).then(t.bind(t,2417));case 11:a=e.sent,u((function(){return a.default}));case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[s.name,D,O,j,w]);var Pe=(0,d.useRef)(null),ze=function(){var e=(0,f.Z)(b().mark((function e(){var n,t,a,i,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pe.current.getImage(),e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.blob();case 6:return a=e.sent,(i=new FormData).append("file",a,"konva-image.jpg"),i.append("width",j),i.append("depth",w),i.append("comment",Se),i.append("name",s.name),i.append("fabricDealer",fe.value),i.append("fabricName",ye.value),e.prev=15,e.next=18,N.Z.post("/calculations/send",i,{headers:{"Content-Type":"multipart/form-data"}});case 18:r=e.sent,console.log("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:",r.data),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(15),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",e.t0);case 25:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{className:Z.calcHeader,children:e("cost calculation")}),(0,y.jsxs)("div",{className:Z.calcArea,children:[(0,y.jsx)("div",{ref:ke,className:Z.schemaArea,children:o?(0,y.jsx)(o,{ref:Pe,dimensions:Ae,productWidth:j,productDepth:w,angleDirection:ce,mattressWidth:D,mattressDepth:O,headDepth:$,setHeadDepth:J,tsargWidth:ae,setTsargWidth:se}):(0,y.jsx)("p",{children:"Loading..."})}),(0,y.jsxs)("div",{className:Z.inputsArea,id:"widthInput",children:[(0,y.jsxs)("label",{children:[e("width"),"bed"===s.group&&(0,y.jsx)("input",{className:Z.sizeInput,disabled:!0,value:j}),"bed"!==s.group&&(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:j,onChange:function(e){return e.target.value>=100&&g(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("depth"),"bed"===s.group&&(0,y.jsx)("input",{className:Z.sizeInput,disabled:!0,value:w}),"bed"!==s.group&&(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:w,onChange:function(e){return e.target.value>=100&&F(Number(e.target.value))}})]}),"bed"===s.group&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{children:e("sleeping area")}),(0,y.jsxs)("div",{children:[(0,y.jsx)("input",{className:"".concat(Z.sizeInput," ").concat(Z.sleepSizeInput),defaultValue:D,onChange:function(e){return e.target.value>=90&&function(e){var n=e-160;g((function(){return Number(s.dimensions.width)+n})),P(e)}(Number(e.target.value))}})," x ",(0,y.jsx)("input",{className:"".concat(Z.sizeInput," ").concat(Z.sleepSizeInput),defaultValue:O,onChange:function(e){return e.target.value>=90&&function(e){var n=e-200;F((function(){return Number(s.dimensions.depth)+n})),B(e)}(Number(e.target.value))}})]}),(0,y.jsxs)("div",{className:Z.proportionsBtnWrapper,children:[(0,y.jsx)("p",{className:Z.proportionsLabel,children:e("standard proportions")}),(0,y.jsx)(k(),{inactiveLabel:"X",activeLabel:"V",value:T,onToggle:function(e){U(!e)}})]}),!T&&(0,y.jsxs)("div",{className:Z.bedDetailsWrapper,children:[(0,y.jsxs)("label",{children:[e("head height"),(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:H,onChange:function(e){return e.target.value>=9&&G(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("head thickness"),(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:$,onChange:function(e){return e.target.value>=9&&function(e){if(e>$){var n=e-$;F((function(){return w+n}))}else{var t=$-e;F((function(){return w-t}))}J(e)}(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("tsarg height"),(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:X,onChange:function(e){return e.target.value>=9&&ee(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("tsarg thickness"),(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:ae,onChange:function(e){return e.target.value>=5&&function(e){if(e>ae){var n=e-ae;F((function(){return w+n})),g((function(){return j+2*n}))}else{var t=ae-e;F((function(){return w-t})),g((function(){return j-2*t}))}se(e)}(Number(e.target.value))}})]})]})]}),s.costCalc.corner&&(0,y.jsxs)("label",{children:[e("angle direction"),(0,y.jsx)(p.ZP,{placeholder:"\u0443\u0433\u043e\u043b \u043f\u043e\u0432\u043e\u0440\u043e\u0442\u0430",options:[{value:"7",label:"7"},{value:"\u0413",label:"\u0413"}],defaultValue:ce,onChange:function(e){return le(e)}})]}),s.costCalc.drawstrings&&(0,y.jsxs)("label",{children:[e("\u0423\u0442\u044f\u0436\u043a\u0438"),(0,y.jsx)(p.ZP,{placeholder:"\u0443\u0442\u044f\u0436\u043a\u0438",options:[{value:"\u0441 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438",label:"\u0421 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438"},{value:"\u0431\u0435\u0437 \u0443\u0442\u044f\u0436\u0435\u043a",label:"\u0411\u0435\u0437 \u0443\u0442\u044f\u0436\u0435\u043a"}],defaultValue:{value:"\u0441 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438",label:"\u0421 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438"}})]}),(0,y.jsxs)("label",{children:[e("supplier"),(0,y.jsx)(p.ZP,{name:"fabricDealer",placeholder:"\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0442\u043a\u0430\u043d\u0438",defaultValue:fe,options:de.sort((function(e,n){return e.value.localeCompare(n.value)})),onChange:function(e){return ve(e)}})]}),"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"!==fe.value&&(0,y.jsxs)("label",{children:[e("fabric name"),(0,y.jsx)(p.ZP,{placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043a\u0430\u043d\u0438",options:je,value:ye,onChange:function(e){return Ie(e)}})]}),(0,y.jsxs)("label",{children:[e("comment"),(0,y.jsx)("input",{className:Z.sizeInput,defaultValue:Se,onChange:function(e){return we(e.target.value)}})]}),(0,y.jsx)("button",{className:Z.btn,onClick:ze,children:e("send")}),(0,y.jsx)("p",{children:e("or")}),(0,y.jsx)("button",{className:Z.btn,onClick:function(){var e=Pe.current.getImage(),n=document.createElement("a");n.href=e,n.download="konva-image.jpg",n.click()},children:e("download scheme")})]})]})]})},M=function(e){var n=e.components,t=(0,i.v9)(l._).array,s=(0,m.$G)().t,r=(0,d.useState)(0),c=(0,a.Z)(r,2),o=c[0],u=c[1],p=(0,d.useState)(0),h=(0,a.Z)(p,2),f=h[0],v=h[1],x=(0,d.useCallback)((function(e){return t&&0!==t.length?t.find((function(n){return n._id===e})):{_id:"",name:"",price:0,currency:"USD",units:"\u0448\u0442"}}),[t]);(0,d.useEffect)((function(){var e=0,t=0;n.forEach((function(n){var a=x(n.id).price*n.quantity;"\u0433\u0440\u043d"===x(n.id).currency?e+=a:t+=a})),u(Math.round(e)),v(Math.round(t))}),[n,x]);try{return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:[s("product components"),":"]}),(0,y.jsx)("ul",{children:n.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)("p",{children:"".concat(x(e.id).name," - ").concat(e.quantity," ").concat(x(e.id).units)})},e.id)}))}),(0,y.jsx)("p",{children:"".concat(s("total"),": ").concat(o,"\u0433\u0440\u043d, $").concat(f)})]})}catch(b){return(0,y.jsx)("p",{children:"not found"})}},A=t(4253),D=[{value:"140",label:"140 x 200(190)"},{value:"160",label:"160 x 200(190)"},{value:"180",label:"180 x 200(190)"},{value:"200",label:"200 x 200(190)"}],P=function(){var e=(0,i.I0)(),n=(0,h.a)(),t=n.user,f=n.isLoggedIn,v=(0,d.useState)({value:"160",label:"160 x 200(190)"}),x=(0,a.Z)(v,2),b=x[0],j=x[1],g=(0,s.UO)().id,_=(0,i.v9)(c.K),N=(0,i.v9)(l._),C=(0,m.$G)().t,Z=_.dimensions.width-160;return(0,d.useEffect)((function(){e((0,o.wv)(g)),f&&0===N.length&&e((0,A.sd)())}),[e,N.length,f,g]),(0,y.jsxs)("div",{className:u.section,children:[(0,y.jsx)("h1",{className:u.title,children:_.name}),(0,y.jsx)(r.lr,{showIndicators:!1,children:_.images.map((function(e){return(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:e,alt:_.name})},e)}))}),"bed"===_.group?(0,y.jsxs)("div",{className:u.baseInfoWrapper,children:[(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[C("sleeping area"),":"]}),(0,y.jsx)(p.ZP,{defaultValue:b,onChange:j,options:D}),(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[C("overall size"),":"]}),(0,y.jsxs)("p",{children:[Number(b.value)+Number(Z)," x ",_.dimensions.depth,"(",_.dimensions.depth-10,")"]})]}):(0,y.jsxs)("div",{className:u.baseInfoWrapper,children:[(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[C("overall size"),":"]}),(0,y.jsxs)("p",{children:[_.dimensions.depth," x ",_.dimensions.width," x ",_.dimensions.height]})]}),(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[C("description"),":"]}),(0,y.jsx)("p",{children:_.description}),f?"administrator"===t.description&&(0,y.jsxs)("div",{className:u.adminBlock,children:[(0,y.jsx)(M,{components:_.components}),(0,y.jsx)(I,{id:g})]}):(0,y.jsx)(y.Fragment,{}),f?(0,y.jsx)("div",{className:u.adminBlock,children:(0,y.jsx)(F,{})},_._id):(0,y.jsx)(y.Fragment,{})]})};function z(){return(0,y.jsx)(P,{})}},5536:function(e,n,t){"use strict";t.d(n,{_:function(){return a}});var a=function(e){return e.components.items}},9654:function(e,n,t){"use strict";t.d(n,{K:function(){return s},q:function(){return a}});var a=function(e){return e.products.items},s=function(e){return e.products.activeItem}},3604:function(e,n,t){var a={"./Difi":[4022,363,22],"./Difi.js":[4022,363,22],"./Feelee":[62,363,62],"./Feelee.js":[62,363,62],"./Flow":[7620,363,174],"./Flow.js":[7620,363,174],"./Frao":[8116,363,814],"./Frao.js":[8116,363,814],"./Hugo":[5363,363,253],"./Hugo.js":[5363,363,253],"./Marsel":[7630,363,630],"./Marsel.js":[7630,363,630],"./Smart":[779,363,779],"./Smart.js":[779,363,779],"./Sofia-Nova":[8901,363,901],"./Sofia-Nova.js":[8901,363,901],"./Undefined":[2417,363,417],"./Undefined.js":[2417,363,417]};function s(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],s=n[0];return Promise.all(n.slice(1).map(t.e)).then((function(){return t(s)}))}s.keys=function(){return Object.keys(a)},s.id=3604,e.exports=s}}]);
//# sourceMappingURL=401.36fa1135.chunk.js.map