"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[565],{381:function(e,n,t){t.d(n,{N:function(){return c}});var s=t(3439),i=t(7948),a=t.n(i),o="PopUp_modalCloseButton__m06-1",r="PopUp_menuIcon__5-11v",l=t(184),c=function(e){var n=e.isOpen,t=e.close,i=e.body;return(0,l.jsxs)(a(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,l.jsx)("button",{className:o,type:"button",onClick:t,children:(0,l.jsx)("svg",{className:r,children:(0,l.jsx)("use",{href:"".concat(s.Z,"#icon-close-circle")})})}),i]})}},565:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var s=t(3050),i=t(3433),a=t(5861),o=t(9439),r=t(4687),l=t.n(r),c=t(5705),d=t(5536),m=t(5294),u="CollectionEditor_wrapper__BODBf",p="CollectionEditor_title__K5kie",h="CollectionEditor_formWrapper__GYzoj",x="CollectionEditor_formItem__qqpkN",j="CollectionEditor_field__XQu45",f="CollectionEditor_quantityField__u3ybJ",b="CollectionEditor_inputArray__Ospp1",v="CollectionEditor_selectComponent__CvOZ7",_="CollectionEditor_minBtn__6g+Kk",N="CollectionEditor_btn__PRioK",g=t(2791),y=t(5842),C=t(4420),F=t(184);m.Z.defaults.baseURL="https://furniture-production.onrender.com/";var w=[{value:"sofa",label:"Sofa"},{value:"bed",label:"Bed"}],Z=function(){var e=(0,C.v9)(d._).array,n=[];e.forEach((function(e){n.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}));var t=(0,g.useState)({value:"sofa",label:"Sofa"}),s=(0,o.Z)(t,2),r=s[0],Z=s[1],k=(0,g.useState)(""),B=(0,o.Z)(k,2),L=B[0],S=B[1],I=(0,g.useState)([]),E=(0,o.Z)(I,2),P=E[0],q=E[1];return(0,F.jsxs)("div",{className:u,children:[(0,F.jsx)("h2",{className:p,children:"Collection Editor"}),(0,F.jsx)(c.J9,{initialValues:{group:r.value,name:"",dimensions:{width:"",height:"",depth:""},subscription:"",basePrice:"",images:[""],components:[""],quantity:[""]},onSubmit:function(){var e=(0,a.Z)(l().mark((function e(n,t){var s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.resetForm,e.prev=1,(i=new FormData).append("group",r.value),i.append("name",n.name),i.append("dimensions[width]",n.dimensions.width),i.append("dimensions[height]",n.dimensions.height),i.append("dimensions[depth]",n.dimensions.depth),i.append("subscription",n.subscription),i.append("basePrice",n.basePrice),P.forEach((function(e,t){var s=P[t],a=n.quantity[t];i.append("components[".concat(t,"][id]"),s),i.append("components[".concat(t,"][quantity]"),a)})),i.append("file",L[0]),e.next=14,m.Z.post("/collections/add",i,{headers:{"Content-Type":"multipart/form-data"}});case 14:q([]),s(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n,t){return e.apply(this,arguments)}}(),children:(0,F.jsxs)(c.l0,{className:h,children:[(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"group",children:"Group"}),(0,F.jsx)(c.gN,{component:y.ZP,name:"group",id:"group",onChange:function(e){return Z(e)},options:w,defaultValue:r.value})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"name",children:"Name"}),(0,F.jsx)(c.gN,{className:j,id:"name",name:"name",placeholder:"Faynee mini"})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"dimensions.width",children:"Width"}),(0,F.jsx)(c.gN,{className:j,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"dimensions.depth",children:"Depth"}),(0,F.jsx)(c.gN,{className:j,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"dimensions.height",children:"Height"}),(0,F.jsx)(c.gN,{className:j,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"subscription",children:"Subscription"}),(0,F.jsx)(c.gN,{className:j,id:"subscription",name:"subscription",placeholder:"Subscription"})]}),(0,F.jsxs)("div",{className:x,children:[(0,F.jsx)("label",{htmlFor:"basePrice",children:"Base price"}),(0,F.jsx)(c.gN,{className:j,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,F.jsx)("div",{className:x,children:(0,F.jsx)(c.gN,{className:j,id:"files",name:"files",type:"file",onChange:function(e){S(e.target.files)}})}),(0,F.jsx)("div",{className:x,children:(0,F.jsx)(c.F2,{name:"components",render:function(e){return(0,F.jsx)("div",{children:e.form.values.components.map((function(t,s){return(0,F.jsxs)("div",{className:b,children:[(0,F.jsx)(c.gN,{component:y.ZP,className:v,name:"components.".concat(s),onChange:function(e){return q((function(n){var t=(0,i.Z)(n);return t[s]=e.value,t}))},options:n}),(0,F.jsx)(c.gN,{className:"".concat(j," ").concat(f),name:"quantity.".concat(s),placeholder:"Quantity"}),e.form.values.components.length>1?(0,F.jsx)("button",{className:_,type:"button",onClick:function(){e.remove(s),e.form.values.quantity.splice(s,1)},children:"-"}):(0,F.jsx)(F.Fragment,{}),s===e.form.values.components.length-1&&(0,F.jsx)("button",{className:_,type:"button",onClick:function(){e.push(""),e.form.values.quantity.push("")},children:"+"})]},s)}))})}})}),(0,F.jsx)("button",{type:"submit",className:N,children:"Submit"})]})})]})},k=t(1413),B=t(4253),L=t(381),S=t(3439),I={wrapper:"ComponentList_wrapper__giwUD",titleArea:"ComponentList_titleArea__mSre9",openBtn:"ComponentList_openBtn__JXZrR",openBtnIcon:"ComponentList_openBtnIcon__81Ht3",active:"ComponentList_active__b-xnh",list:"ComponentList_list__nKaDk",item:"ComponentList_item__rBpvr",price:"ComponentList_price__b8Be0",buttons:"ComponentList_buttons__MMPMv",editBtn:"ComponentList_editBtn__8we70",title:"ComponentList_title__EfwIm",formItem:"ComponentList_formItem__tEUVD",field:"ComponentList_field__+BOaR",inputArray:"ComponentList_inputArray__tvYgw",btn:"ComponentList_btn__9-6O+",delBtn:"ComponentList_delBtn__uRtU-"},E=[{value:"USD",label:"USD"},{value:"\u0433\u0440\u043d",label:"\u0433\u0440\u043d"}],P=[{value:"\u0448\u0442",label:"\u0448\u0442"},{value:"\u043c",label:"\u043c"},{value:"\u043a\u0433",label:"\u043a\u0433"}],q={},A=function(){var e=(0,C.v9)(d._),n=(0,C.I0)(),t=(0,g.useState)(!1),s=(0,o.Z)(t,2),i=s[0],r=s[1],m=(0,g.useState)(!1),u=(0,o.Z)(m,2),p=u[0],h=u[1],x=(0,g.useState)({value:"\u0433\u0440\u043d",label:"\u0433\u0440\u043d"}),j=(0,o.Z)(x,2),f=j[0],b=j[1],v=(0,g.useState)({value:"\u0448\u0442.",label:"\u0448\u0442"}),_=(0,o.Z)(v,2),N=_[0],w=_[1],Z=(0,g.useState)(!1),A=(0,o.Z)(Z,2),D=A[0],O=A[1],U=function(){O(!1),document.body.classList.remove("modal-open")},W=function(){h(!1),document.body.classList.remove("modal-open")},R=function(){try{return e.array.map((function(e){return(0,F.jsxs)("li",{className:I.item,children:[(0,F.jsx)("p",{children:e.name}),(0,F.jsx)("div",{children:(0,F.jsx)("p",{children:e.subscription})}),(0,F.jsxs)("div",{className:I.price,children:[(0,F.jsxs)("p",{children:["Price: ",e.price]}),(0,F.jsx)("p",{children:e.currency}),(0,F.jsxs)("p",{children:["/",e.units]})]}),(0,F.jsxs)("div",{className:I.buttons,children:[(0,F.jsx)("button",{className:I.editBtn,onClick:function(){return function(e){q=e,console.log(q),h(!0),document.body.classList.add("modal-open")}(e)},children:"Edit"}),(0,F.jsx)("button",{className:I.editBtn,onClick:function(){return function(e){q=e,O(!0),document.body.classList.add("modal-open")}(e)},children:"Delete"})]})]},e._id)}))}catch(n){return console.log(n),(0,F.jsx)(F.Fragment,{})}};return(0,F.jsxs)("div",{className:I.wrapper,children:[(0,F.jsxs)("div",{className:I.titleArea,children:[(0,F.jsx)("p",{className:I.title,children:"Component list"}),(0,F.jsx)("button",{className:I.openBtn,id:"isOpen",onClick:function(e){r(!i),e.target.classList=i?I.notActive:I.active},children:(0,F.jsx)("svg",{children:(0,F.jsx)("use",{className:I.openBtnIcon,href:"".concat(S.Z,"#icon-arrow-down"),width:"32px"})})})]}),i?(0,F.jsxs)("div",{children:[(0,F.jsx)("ul",{className:I.list,children:(0,F.jsx)(R,{})}),(0,F.jsx)("p",{className:I.title,children:"Add new component"}),(0,F.jsx)(c.J9,{initialValues:{name:"",subscription:"",price:"",currency:f.value,units:N.value},onSubmit:function(){var e=(0,a.Z)(l().mark((function e(t,s){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=s.resetForm;try{a=(0,k.Z)((0,k.Z)({},t),{},{currency:f.value,units:N.value}),n((0,B.Tk)(a)),i()}catch(o){console.log(o)}case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:(0,F.jsxs)(c.l0,{className:I.formWrapper,children:[(0,F.jsx)("div",{className:I.formItem,children:(0,F.jsx)(c.gN,{className:I.field,id:"name",name:"name",placeholder:"Name"})}),(0,F.jsx)("div",{className:I.formItem,children:(0,F.jsx)(c.gN,{className:I.field,id:"subscription",name:"subscription",placeholder:"Subscription"})}),(0,F.jsx)("div",{className:I.formItem,children:(0,F.jsx)(c.gN,{className:I.field,id:"price",name:"price",placeholder:"Price"})}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"currency",children:"Currency"}),(0,F.jsx)(c.gN,{component:y.ZP,name:"currency",id:"currency",onChange:function(e){return b(e)},options:E,defaultValue:f.value})]}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"units",children:"Units"}),(0,F.jsx)(c.gN,{component:y.ZP,name:"units",id:"units",onChange:function(e){return w(e)},options:P,defaultValue:N.value})]}),(0,F.jsx)("button",{type:"submit",className:I.btn,children:"Add component"})]})}),(0,F.jsx)(L.N,{isOpen:p,close:W,body:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("p",{children:"Edit mode"}),(0,F.jsx)(c.J9,{initialValues:{name:q.name,subscription:q.subscription,price:q.price,currency:q.currency,units:q.units},onSubmit:function(){var e=(0,a.Z)(l().mark((function e(t){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s=q._id,n((0,B.KL)((0,k.Z)({id:s},t))),W()}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:(0,F.jsxs)(c.l0,{className:I.formWrapper,children:[(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"name",children:"Name"}),(0,F.jsx)(c.gN,{className:I.field,id:"name",name:"name"})]}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"subscription",children:"Subscription"}),(0,F.jsx)(c.gN,{className:I.field,id:"subscription",name:"subscription"})]}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"price",children:"Price"}),(0,F.jsx)(c.gN,{className:I.field,id:"price",name:"price"})]}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"currency",children:"Currency"}),(0,F.jsx)(c.gN,{className:I.field,id:"currency",name:"currency"})]}),(0,F.jsxs)("div",{className:I.formItem,children:[(0,F.jsx)("label",{htmlFor:"units",children:"Units"}),(0,F.jsx)(c.gN,{className:I.field,id:"units",name:"units"})]}),(0,F.jsx)("button",{type:"submit",className:I.btn,children:"Submit"})]})})]})}),(0,F.jsx)(L.N,{isOpen:D,close:U,body:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("p",{children:"Are you sure???"}),(0,F.jsxs)("div",{className:I.delModalWrapper,children:[(0,F.jsx)("button",{onClick:U,className:I.btn,children:"Cancel"}),(0,F.jsx)("button",{onClick:function(){n((0,B.v7)(q._id)),U()},className:"".concat(I.btn," ").concat(I.delBtn),children:"Delete"})]})]})})]}):(0,F.jsx)(F.Fragment,{})]})};function D(){return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(s.B6,{children:[(0,F.jsx)(s.ql,{children:(0,F.jsx)("title",{children:"My room"})}),(0,F.jsx)("h1",{children:"It's your private room"}),(0,F.jsx)(Z,{}),(0,F.jsx)(A,{})]})})}},5536:function(e,n,t){t.d(n,{_:function(){return s}});var s=function(e){return e.components.items}}}]);
//# sourceMappingURL=565.c28b073e.chunk.js.map