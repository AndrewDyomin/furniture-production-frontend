"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[73],{381:function(e,t,n){n.d(t,{N:function(){return l}});var r=n(3439),o=n(7948),s=n.n(o),i="PopUp_modalCloseButton__m06-1",a="PopUp_menuIcon__5-11v",c=n(184),l=function(e){var t=e.isOpen,n=e.close,o=e.body;return(0,c.jsxs)(s(),{isOpen:t,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,c.jsx)("button",{className:i,type:"button",onClick:n,children:(0,c.jsx)("svg",{className:a,children:(0,c.jsx)("use",{href:"".concat(r.Z,"#icon-close-circle")})})}),o]})}},5073:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(4420),o=n(7689),s=n(3050),i=n(6502),a=n(5861),c=n(3433),l=n(9439),d=n(4687),u=n.n(d),f={btn:"DruftInfo_btn__J+h5-",backBtn:"DruftInfo_backBtn__L+tei",delBtn:"DruftInfo_delBtn__lO6I-",backIcon:"DruftInfo_backIcon__2Z2g8",druftName:"DruftInfo_druftName__sB0aU",druftDcrptn:"DruftInfo_druftDcrptn__z2pI6",optionsWrapper:"DruftInfo_optionsWrapper__1NieH",mySwiper:"DruftInfo_mySwiper__tb+tW",formWrapper:"DruftInfo_formWrapper__AF3n+",formItem:"DruftInfo_formItem__scx7z",label:"DruftInfo_label__G0CJZ",field:"DruftInfo_field__WL-2P",inputItem:"DruftInfo_inputItem__u8NZq",delModalWrapper:"DruftInfo_delModalWrapper__pc2o9",modalContent:"DruftInfo_modalContent__kFCKy"},m=n(2791),p=n(9230),h=n(8363),x=n.n(h),b=n(5294),g=n(3439),j=n(5705),_=n(6799),v=n(4217),N=n(7174),y=n(381),I=n(1087),C=n(7948),k=n.n(C),w=n(2310),D=(n(1167),n(184));var F=function(e){var t=(0,m.useRef)(null);return(0,m.useEffect)((function(){var n=t.current,r=e.delegate||"[data-fancybox]",o=e.options||{};return w.KR.bind(n,r,o),function(){w.KR.unbind(n),w.KR.close()}})),(0,D.jsx)("div",{ref:t,children:e.children})},Z=n(1413),W=(n(8353),n(4452)),B=(n(4103),{Dots:!1,Thumbs:{type:"modern"}});var R=function(e){var t=(0,m.useRef)(null);return(0,m.useEffect)((function(){var n=t.current,r=(0,Z.Z)((0,Z.Z)({},B),e.options||{}),o=new w.lr(n,r,{Thumbs:W.o3});return function(){o.destroy()}})),(0,D.jsx)("div",{className:"f-carousel",ref:t,children:e.children})},S={overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},H=function(e){e.id;var t,n,s=(0,p.$G)().t,i=(0,r.I0)(),d=(0,r.v9)(_.G),h=(0,r.v9)(v.dy),C=(0,o.TH)(),w=(0,o.s0)(),Z=null!==(t=null===(n=C.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/drufts";(0,m.useEffect)((function(){}),[d]);var W=(0,m.useState)(!1),B=(0,l.Z)(W,2),H=B[0],L=B[1],O=(0,m.useState)([]),A=(0,l.Z)(O,2),q=A[0],E=A[1],G=(0,m.useState)(!1),K=(0,l.Z)(G,2),T=K[0],U=K[1],z=(0,m.useState)(!1),J=(0,l.Z)(z,2),M=J[0],P=J[1],V=(0,m.useState)(!1),$=(0,l.Z)(V,2),Q=$[0],X=$[1],Y=function(){L(!1),document.body.classList.remove("modal-open")},ee=function(){P(!1),document.body.classList.remove("modal-open")},te=d.imageArrays.find((function(e){return e.role===h.description}))||{images:[]};return(0,D.jsxs)("div",{className:f.wrapper,children:[(0,D.jsx)(I.rU,{to:Z,children:(0,D.jsx)("button",{className:"".concat(f.btn," ").concat(f.backBtn),children:(0,D.jsx)("svg",{className:f.backIcon,children:(0,D.jsx)("use",{href:"".concat(g.Z,"#icon-arrow-right"),width:"32px"})})})}),(0,D.jsx)("p",{className:f.druftName,children:d.name}),(0,D.jsx)("p",{className:f.druftDcrptn,children:d.description}),"administrator"!==h.description&&te.images.length>0&&(0,D.jsx)(F,{options:{Carousel:{infinite:!1}},children:(0,D.jsx)(R,{options:{infinite:!1},children:te.images.map((function(e){return(0,D.jsx)("div",{className:"f-carousel__slide","data-fancybox":"gallery","data-src":"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),"data-thumb-src":"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),children:(0,D.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),alt:e,width:"auto",height:"500"})},e)}))})}),"administrator"===h.description&&d.imageArrays.length>0&&d.imageArrays.map((function(e){return(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:e.role}),(0,D.jsx)(F,{options:{Carousel:{infinite:!1}},children:(0,D.jsx)(R,{options:{infinite:!1},children:e.images.map((function(e){return(0,D.jsx)("div",{className:"f-carousel__slide","data-fancybox":"gallery","data-src":"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),"data-thumb-src":"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),children:(0,D.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),alt:e,width:"auto",height:"500"})},e)}))})})]},e.role)})),(0,D.jsxs)("div",{className:f.optionsWrapper,children:[(0,D.jsx)("button",{className:f.btn,onClick:function(){L(!0),document.body.classList.add("modal-open"),E([])},children:s("edit")}),(0,D.jsx)("button",{className:"".concat(f.btn," ").concat(f.delBtn),onClick:function(){P(!0),document.body.classList.add("modal-open")},children:s("delete")})]}),(0,D.jsx)(y.N,{isOpen:H,close:Y,className:f.modalContent,body:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("p",{children:s("edit mode")}),(0,D.jsx)(j.J9,{initialValues:{name:d.name,description:d.description,_id:d._id,images:te.images},onSubmit:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),(n=new FormData).append("name",t.name),n.append("description",t.description),n.append("_id",t._id),n.append("imd",te._id),t.images.forEach((function(e,r){n.append("images[".concat(r,"]"),t.images[r])})),q.forEach((function(e){n.append("file",e)})),e.next=11,b.Z.post("/drufts/update",n,{headers:{"Content-Type":"multipart/form-data"}});case 11:r=e.sent,i((0,N.kG)(r.data)),U(!1),Y(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),children:(0,D.jsxs)(j.l0,{className:f.formWrapper,children:[(0,D.jsxs)("div",{className:f.formItem,children:[(0,D.jsx)("label",{htmlFor:"name",children:s("unit name")}),(0,D.jsx)(j.gN,{className:f.field,id:"name",name:"name"})]}),(0,D.jsxs)("div",{className:f.formItem,children:[(0,D.jsx)("label",{htmlFor:"description",children:s("description")}),(0,D.jsx)(j.gN,{className:f.field,id:"description",name:"description",placeholder:"Description"})]}),(0,D.jsx)("div",{className:f.formItem,children:(0,D.jsx)(j.F2,{name:"images",render:function(e){return(0,D.jsx)("div",{className:f.field,children:e.form.values.images.map((function(t,n){return(0,D.jsxs)("div",{className:f.inputItem,children:[(0,D.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(t,"=w200?authuser=0"),alt:t}),(0,D.jsx)("button",{className:f.btn,type:"button",onClick:function(){return e.remove(n)},children:s("delete")})]},n)}))})}})}),(0,D.jsxs)("div",{className:f.formItem,children:[(0,D.jsx)("label",{htmlFor:"files",children:s("add new images")}),(0,D.jsx)(j.gN,{className:f.field,id:"files",name:"files",type:"file",onChange:function(e){E((0,c.Z)(e.target.files))},multiple:!0})]}),(0,D.jsx)("button",{type:"submit",className:"".concat(f.btn," ").concat(f.modalSubmitButton),children:T?(0,D.jsx)(x(),{color:"#c8c19b",size:"10px"}):"".concat(s("submit"))})]})})]})}),(0,D.jsx)(y.N,{isOpen:M,close:ee,body:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("p",{children:[s("are you sure"),"???"]}),(0,D.jsxs)("div",{className:f.delModalWrapper,children:[(0,D.jsx)("button",{onClick:ee,className:f.btn,children:s("cancel")}),(0,D.jsx)("button",{onClick:function(){i((0,N.Bi)(d._id)),w("/drufts",{replace:!0})},className:"".concat(f.btn," ").concat(f.delBtn),children:s("delete")})]})]})}),(0,D.jsx)(k(),{isOpen:Q,onRequestClose:function(){X(!1)},style:S,ariaHideApp:!1,children:(0,D.jsx)("button",{className:f.modalCloseButton,type:"button",onClick:function(){X(!1)},children:(0,D.jsx)("svg",{className:f.menuIcon,children:(0,D.jsx)("use",{href:"".concat(g.Z,"#icon-close-circle")})})})})]})};function L(){var e=(0,r.v9)(i.NH),t=(0,o.UO)().druftId;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(s.B6,{children:[(0,D.jsx)(s.ql,{children:(0,D.jsx)("title",{children:"Druft details"})}),(0,D.jsx)("div",{children:e&&"Request in progress..."}),(0,D.jsx)(H,{id:t})]})})}},6799:function(e,t,n){n.d(t,{CK:function(){return r},G:function(){return o}});var r=function(e){return e.drufts.items},o=function(e){return e.drufts.activeItem}},6502:function(e,t,n){n.d(t,{NH:function(){return s},ST:function(){return o},pi:function(){return r}});var r=function(e){return e.orders.items},o=function(e){return e.orders.activeItem},s=function(e){return e.orders.isLoading}}}]);
//# sourceMappingURL=73.6f7ee834.chunk.js.map