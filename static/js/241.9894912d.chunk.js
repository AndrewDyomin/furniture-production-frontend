"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[241],{381:function(e,n,t){t.d(n,{N:function(){return l}});var i=t(3439),s=t(7948),a=t.n(s),c="PopUp_modalCloseButton__m06-1",r="PopUp_menuIcon__5-11v",o=t(184),l=function(e){var n=e.isOpen,t=e.close,s=e.body;return(0,o.jsxs)(a(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,o.jsx)("button",{className:c,type:"button",onClick:t,children:(0,o.jsx)("svg",{className:r,children:(0,o.jsx)("use",{href:"".concat(i.Z,"#icon-close-circle")})})}),s]})}},4629:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(9439),s=t(7689),a=t(4420),c=(t(8040),t(197)),r=t(9654),o={section:"ProductDetails_section__nPSK1",title:"ProductDetails_title__Qkudl",image:"ProductDetails_image__LbA4l",baseInfoTitle:"ProductDetails_baseInfoTitle__0a0ed",price:"ProductDetails_price__DFFDm"},l=t(2791),d=t(5842),u=t(8627),m=t(1413),p=t(5861),h=t(3433),f=t(4687),x=t.n(f),b=t(5612),j={delModalWrapper:"AdminMenu_delModalWrapper__Gfzrs",formWrapper:"AdminMenu_formWrapper__ybfPv",formItem:"AdminMenu_formItem__KchmS",label:"AdminMenu_label__UnqU9",field:"AdminMenu_field__bFN4e",quantityField:"AdminMenu_quantityField__Kt6mI",inputArray:"AdminMenu_inputArray__+FLIB",selectComponent:"AdminMenu_selectComponent__6Gq8o",minBtn:"AdminMenu_minBtn__BCYDU",btn:"AdminMenu_btn__7lnqu",delBtn:"AdminMenu_delBtn__LcZEy",modalSubmitButton:"AdminMenu_modalSubmitButton__lp4X-"},_=t(381),v=t(5705),N=t(5294),g=t(5536),y=t(184);N.Z.defaults.baseURL="https://furniture-production.onrender.com/";var I=function(e){var n=(0,a.I0)(),t=(0,a.v9)(r.K),s=(0,a.v9)(g._).array,c=t.components.length>0?t.components:[""],o=[],u=[],f=[];try{s.forEach((function(e){o.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}))}catch(U){}try{c.forEach((function(e){u.push(e.id),f.push(e.quantity)}))}catch(K){}var N=(0,l.useState)(!1),I=(0,i.Z)(N,2),C=I[0],F=I[1],P=(0,l.useState)([].concat(u)),A=(0,i.Z)(P,2),Z=A[0],k=A[1],M=(0,l.useState)([].concat(f)),D=(0,i.Z)(M,2),q=D[0],B=D[1],S=(0,l.useState)(!1),w=(0,i.Z)(S,2),W=w[0],L=w[1];(0,l.useEffect)((function(){k([].concat(u)),B([].concat(f))}),[C]);var T=function(){F(!1),document.body.classList.remove("modal-open")},E=function(){L(!1),document.body.classList.remove("modal-open")},O=function(e){try{return o.find((function(n){return n.value===e})).label}catch(n){return"Select..."}};return(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{onClick:function(){L(!0),document.body.classList.add("modal-open")},className:j.btn,children:"Delete"}),(0,y.jsx)("button",{className:j.btn,onClick:function(){F(!0),document.body.classList.add("modal-open")},children:"Edit"}),(0,y.jsx)(_.N,{isOpen:C,close:T,className:j.modalContent,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Edit mode"}),(0,y.jsx)(v.J9,{initialValues:{name:t.name,dimensions:{width:t.dimensions.width,height:t.dimensions.height,depth:t.dimensions.depth},description:t.description,basePrice:t.basePrice,components:Z,quantity:q},onSubmit:function(){var t=(0,p.Z)(x().mark((function t(i){var s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{s=[],Z.forEach((function(e,n){s.push({});var t=e,i=q[n];s[n].id=t,s[n].quantity=i})),i.components=[].concat(s),delete i.quantity,n((0,b.nM)((0,m.Z)((0,m.Z)({},e),i))),T()}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:(0,y.jsxs)(v.l0,{className:j.formWrapper,children:[(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"name",children:"Name"}),(0,y.jsx)(v.gN,{className:j.field,id:"name",name:"name"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.width",children:"Width"}),(0,y.jsx)(v.gN,{className:j.field,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.depth",children:"Depth"}),(0,y.jsx)(v.gN,{className:j.field,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.height",children:"Height"}),(0,y.jsx)(v.gN,{className:j.field,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"description",children:"Description"}),(0,y.jsx)(v.gN,{className:j.field,id:"description",name:"description",placeholder:"Description"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"basePrice",children:"Base price"}),(0,y.jsx)(v.gN,{className:j.field,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,y.jsx)("div",{className:j.formItem,children:(0,y.jsx)(v.F2,{name:"components",render:function(e){return(0,y.jsx)("div",{children:Z.map((function(e,n){return(0,y.jsxs)("div",{className:j.inputArray,children:[(0,y.jsx)(v.gN,{component:d.ZP,className:j.selectComponent,name:"components.".concat(n),onChange:function(e){return k((function(t){var i=(0,h.Z)(t);return i[n]=e.value,i}))},options:o,placeholder:O(e)}),(0,y.jsx)(v.gN,{className:"".concat(j.field," ").concat(j.quantityField),name:"quantity.".concat(n),value:q[n]||"",onChange:function(e){return B((function(t){var i=(0,h.Z)(t);return i[n]=e.target.value,i}))},placeholder:"Quantity"}),Z.length>1?(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return function(e){k((function(n){return n.filter((function(n){return n!==e}))})),B((function(n){return n.filter((function(n,t){return Z[t]!==e}))}))}(e)},children:"-"}):(0,y.jsx)(y.Fragment,{}),n===Z.length-1&&(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return k((function(e){return[].concat((0,h.Z)(e),[""])})),void B((function(e){return[].concat((0,h.Z)(e),[""])}))},children:"+"})]},e)}))})}})}),(0,y.jsx)("button",{type:"submit",className:"".concat(j.btn," ").concat(j.modalSubmitButton),children:"Submit"})]})})]})}),(0,y.jsx)(_.N,{isOpen:W,close:E,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Are you sure???"}),(0,y.jsxs)("div",{className:j.delModalWrapper,children:[(0,y.jsx)("button",{onClick:E,className:j.btn,children:"Cancel"}),(0,y.jsx)("button",{onClick:function(){n((0,b.Ir)(e))},className:"".concat(j.btn," ").concat(j.delBtn),children:"Delete"})]})]})})]})},C=function(e){var n=e.components,t=(0,a.v9)(g._).array,i=function(e){return t.find((function(n){return n._id===e}))};try{return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Product components:"}),(0,y.jsx)("ul",{children:n.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)("p",{children:"".concat(i(e.id).name," - ").concat(e.quantity," ").concat(i(e.id).units)})},e.id)}))})]})}catch(s){return(0,y.jsx)("p",{children:"not found"})}},F=[{value:"140",label:"140 x 200(190)"},{value:"160",label:"160 x 200(190)"},{value:"180",label:"180 x 200(190)"},{value:"200",label:"200 x 200(190)"}],P=function(){var e=(0,u.a)(),n=e.user,t=e.isLoggedIn,m=(0,l.useState)({value:"160",label:"160 x 200(190)"}),p=(0,i.Z)(m,2),h=p[0],f=p[1],x=(0,s.UO)().id,b=(0,a.v9)(r.K),j=b.dimensions.width-160,_=b.basePrice;return(0,y.jsxs)("div",{className:o.section,children:[(0,y.jsx)("h1",{className:o.title,children:b.name}),(0,y.jsx)(c.lr,{showIndicators:!1,children:b.images.map((function(e){return(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:e,alt:b.name})},e)}))}),"bed"===b.group?(0,y.jsxs)("div",{className:o.baseInfoWrapper,children:[(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Sleeping area:"}),(0,y.jsx)(d.ZP,{defaultValue:h,onChange:f,options:F}),(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Overall size:"}),(0,y.jsxs)("p",{children:[Number(h.value)+Number(j)," x ",b.dimensions.depth,"(",b.dimensions.depth-10,")"]}),(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Price:"}),(0,y.jsxs)("p",{className:o.price,children:[_," \u20b4"]})]}):(0,y.jsxs)("div",{className:o.baseInfoWrapper,children:[(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Overall size:"}),(0,y.jsxs)("p",{children:[b.dimensions.depth," x ",b.dimensions.width," x ",b.dimensions.height]}),(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Price:"}),(0,y.jsxs)("p",{className:o.price,children:[b.basePrice," \u20b4"]})]}),(0,y.jsx)("p",{className:o.baseInfoTitle,children:"Description:"}),(0,y.jsx)("p",{children:b.description}),t?"administrator"===n.description&&(0,y.jsxs)("div",{children:[(0,y.jsx)(C,{components:b.components}),(0,y.jsx)(I,{id:x})]}):(0,y.jsx)(y.Fragment,{})]})};function A(){return(0,y.jsx)(P,{})}},5536:function(e,n,t){t.d(n,{_:function(){return i}});var i=function(e){return e.components.items}},9654:function(e,n,t){t.d(n,{K:function(){return s},q:function(){return i}});var i=function(e){return e.products.items},s=function(e){return e.products.activeItem}}}]);
//# sourceMappingURL=241.9894912d.chunk.js.map