"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[913],{381:function(e,r,a){a.d(r,{N:function(){return o}});var n=a(3439),s=a(7948),i=a.n(s),d="PopUp_modalCloseButton__m06-1",t="PopUp_menuIcon__5-11v",l=a(184),o=function(e){var r=e.isOpen,a=e.close,s=e.body;return(0,l.jsxs)(i(),{isOpen:r,onRequestClose:a,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,l.jsx)("button",{className:d,type:"button",onClick:a,children:(0,l.jsx)("svg",{className:t,children:(0,l.jsx)("use",{href:"".concat(n.Z,"#icon-close-circle")})})}),s]})}},9913:function(e,r,a){a.r(r),a.d(r,{default:function(){return v}});var n=a(4420),s=a(7689),i=a(3050),d=a(6502),t=a(5861),l=a(3433),o=a(9439),c=a(4687),m=a.n(c),p={orderNumber:"OrderInfo_orderNumber__2q9MF",description:"OrderInfo_description__zLh2V",orderName:"OrderInfo_orderName__-OHBi",orderSize:"OrderInfo_orderSize__BVU05",orderFabric:"OrderInfo_orderFabric__X9Sm5",orderDescription:"OrderInfo_orderDescription__iXIxd",orderDeadline:"OrderInfo_orderDeadline__8ywa6",imagesList:"OrderInfo_imagesList__LA3Fp",orderImage:"OrderInfo_orderImage__2G8nz",btn:"OrderInfo_btn__fLqg+",minBtn:"OrderInfo_minBtn__uJ0Ts",formWrapper:"OrderInfo_formWrapper__+kjz9",formItem:"OrderInfo_formItem__kNYm6",label:"OrderInfo_label__s3BbH",field:"OrderInfo_field__Q3vr4"},u=a(2791),f=a(9230),h=a(5294),x=a(5705),b=a(4217),j=a(8384),g=a(381),N=a(184),_=function(e){e.id;var r=(0,f.$G)().t,a=(0,n.I0)(),s=(0,n.v9)(d.ST),i=(0,n.v9)(b.dy);function c(e){var r=new Date(e),a=r.getMonth()+1;return"".concat(r.getDate().toString().padStart(2,"0"),".").concat(a.toString().padStart(2,"0"),".").concat(r.getFullYear())}var _=(0,u.useState)(!1),v=(0,o.Z)(_,2),I=v[0],S=v[1],O=(0,u.useState)([]),F=(0,o.Z)(O,2),D=F[0],y=F[1];(0,u.useEffect)((function(){}),[D,I]);var z=function(){S(!1),document.body.classList.remove("modal-open")};return(0,N.jsxs)("div",{className:p.wrapper,children:[(0,N.jsx)("p",{className:p.orderNumber,children:s.number}),(0,N.jsxs)("div",{className:p.description,children:[(0,N.jsxs)("p",{className:p.orderName,children:[s.group," ",s.name]}),(0,N.jsxs)("p",{className:p.orderSize,children:[r("size"),": ",s.size]}),(0,N.jsxs)("p",{className:p.orderFabric,children:[r("fabric"),": ",s.fabric]}),(0,N.jsxs)("p",{className:p.orderDescription,children:[r("description"),": ",s.description]}),(0,N.jsxs)("p",{className:p.orderDeadline,children:[r("deadline"),": ",c(s.plannedDeadline)]}),(0,N.jsx)("p",{children:s.dealer}),"seamstress"===i.description||"carpenter"===i.description||"upholsterer"===i.description?(0,N.jsx)(N.Fragment,{}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{className:p.orderAdress,children:[r("adress"),": ",s.adress]}),(0,N.jsxs)("p",{className:p.orderRest,children:[r("rest"),": ",s.rest]})]})]}),s.images&&0!==s.images.length?(0,N.jsx)("ul",{className:p.imagesList,children:s.images.map((function(e){return(0,N.jsx)("li",{children:(0,N.jsx)("img",{className:p.orderImage,src:"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),alt:e})},"".concat(e))}))}):(0,N.jsx)(N.Fragment,{}),"administrator"===i.description?(0,N.jsx)("div",{children:(0,N.jsx)("button",{className:p.btn,onClick:function(){S(!0),document.body.classList.add("modal-open"),y([])},children:r("edit")})}):(0,N.jsx)(N.Fragment,{}),(0,N.jsx)(g.N,{isOpen:I,close:z,className:p.modalContent,body:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{children:"Edit mode"}),(0,N.jsx)(x.J9,{initialValues:{group:s.group,size:s.size,name:s.name,fabric:s.fabric,description:s.description,base:s.base,deliveryDate:s.deliveryDate,innerPrice:s.innerPrice,number:s.number,dealer:s.dealer,deadline:s.deadline,dateOfOrder:c(s.dateOfOrder),adress:s.adress,additional:s.additional,rest:s.rest,plannedDeadline:c(s.plannedDeadline),orderStatus:s.orderStatus,_id:s._id,images:s.images,fabricStatus:s.fabricStatus,coverStatus:s.coverStatus,frameStatus:s.frameStatus},onSubmit:function(){var e=(0,t.Z)(m().mark((function e(r){var n,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("group",r.group),n.append("size",r.size),n.append("name",r.name),n.append("fabric",r.fabric),n.append("description",r.description),n.append("base",r.base),n.append("deliveryDate",r.deliveryDate),n.append("innerPrice",r.innerPrice),n.append("number",r.number),n.append("dealer",r.dealer),n.append("deadline",r.deadline),n.append("dateOfOrder",r.dateOfOrder),n.append("adress",r.adress),n.append("additional",r.additional),n.append("rest",r.rest),n.append("plannedDeadline",r.plannedDeadline),n.append("orderStatus",r.orderStatus),n.append("_id",r._id),r.images.forEach((function(e,a){n.append("images[".concat(a,"]"),r.images[a])})),n.append("fabricStatus",r.fabricStatus),n.append("coverStatus",r.coverStatus),n.append("frameStatus",r.frameStatus),D.forEach((function(e){n.append("file",e)})),e.next=27,h.Z.post("/orders/update",n,{headers:{"Content-Type":"multipart/form-data"}});case 27:s=e.sent,a((0,j.z)(s.data)),z(),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(r){return e.apply(this,arguments)}}(),children:(0,N.jsxs)(x.l0,{className:p.formWrapper,children:[(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"group",children:r("group")}),(0,N.jsx)(x.gN,{className:p.field,id:"group",name:"group"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"size",children:r("size")}),(0,N.jsx)(x.gN,{className:p.field,id:"size",name:"size"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"name",children:r("order name")}),(0,N.jsx)(x.gN,{className:p.field,id:"name",name:"name"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"fabric",children:r("fabric")}),(0,N.jsx)(x.gN,{className:p.field,id:"fabric",name:"fabric"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"description",children:r("description")}),(0,N.jsx)(x.gN,{className:p.field,id:"description",name:"description",placeholder:"Description"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"base",children:r("base")}),(0,N.jsx)(x.gN,{className:p.field,id:"base",name:"base"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"innerPrice",children:r("inner price")}),(0,N.jsx)(x.gN,{className:p.field,id:"innerPrice",name:"innerPrice"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"number",children:r("number")}),(0,N.jsx)(x.gN,{className:p.field,id:"number",name:"number"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"adress",children:r("adress")}),(0,N.jsx)(x.gN,{className:p.field,id:"adress",name:"adress"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"additional",children:r("additional")}),(0,N.jsx)(x.gN,{className:p.field,id:"additional",name:"additional"})]}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"plannedDeadline",children:r("planned deadline")}),(0,N.jsx)(x.gN,{className:p.field,id:"plannedDeadline",name:"plannedDeadline"})]}),(0,N.jsx)("div",{className:p.formItem,children:(0,N.jsx)(x.F2,{name:"images",render:function(e){return(0,N.jsx)("div",{children:e.form.values.images.map((function(a,n){return(0,N.jsxs)("div",{className:p.inputArray,children:[(0,N.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(a,"=w200?authuser=0"),alt:a}),(0,N.jsx)("button",{type:"button",onClick:function(){return e.remove(n)},children:r("delete")})]},n)}))})}})}),(0,N.jsxs)("div",{className:p.formItem,children:[(0,N.jsx)("label",{htmlFor:"files",children:r("add new images")}),(0,N.jsx)(x.gN,{className:p.field,id:"files",name:"files",type:"file",onChange:function(e){y((0,l.Z)(e.target.files))},multiple:!0})]}),(0,N.jsx)("button",{type:"submit",className:"".concat(p.btn," ").concat(p.modalSubmitButton),children:r("submit")})]})})]})})]})};function v(){var e=(0,n.v9)(d.NH),r=(0,s.UO)().orderId;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(i.B6,{children:[(0,N.jsx)(i.ql,{children:(0,N.jsx)("title",{children:"Order details"})}),(0,N.jsx)("div",{children:e&&"Request in progress..."}),(0,N.jsx)(_,{id:r})]})})}},6502:function(e,r,a){a.d(r,{NH:function(){return i},ST:function(){return s},pi:function(){return n}});var n=function(e){return e.orders.items},s=function(e){return e.orders.activeItem},i=function(e){return e.orders.isLoading}}}]);
//# sourceMappingURL=913.43577680.chunk.js.map