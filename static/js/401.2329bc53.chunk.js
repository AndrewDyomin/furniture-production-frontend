(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[401],{381:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var a=t(3439),s=t(7948),i=t.n(s),r="PopUp_modalCloseButton__m06-1",c="PopUp_menuIcon__5-11v",l=t(184),o=function(e){var n=e.isOpen,t=e.close,s=e.body;return(0,l.jsxs)(i(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,l.jsx)("button",{className:r,type:"button",onClick:t,children:(0,l.jsx)("svg",{className:c,children:(0,l.jsx)("use",{href:"".concat(a.Z,"#icon-close-circle")})})}),s]})}},2090:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var a=t(9439),s=t(7689),i=t(4420),r=(t(8040),t(197)),c=t(9654),l=t(5536),o=t(5612),u={section:"ProductDetails_section__nPSK1",title:"ProductDetails_title__Qkudl",image:"ProductDetails_image__LbA4l",baseInfoTitle:"ProductDetails_baseInfoTitle__0a0ed",price:"ProductDetails_price__DFFDm",adminBlock:"ProductDetails_adminBlock__bY86e"},d=t(2791),p=t(9230),m=t(5842),h=t(7834),f=t(5861),x=t(3433),v=t(4687),b=t.n(v),j={delModalWrapper:"AdminMenu_delModalWrapper__Gfzrs",formWrapper:"AdminMenu_formWrapper__ybfPv",formItem:"AdminMenu_formItem__KchmS",label:"AdminMenu_label__UnqU9",field:"AdminMenu_field__bFN4e",quantityField:"AdminMenu_quantityField__Kt6mI",inputArray:"AdminMenu_inputArray__+FLIB",selectComponent:"AdminMenu_selectComponent__6Gq8o",minBtn:"AdminMenu_minBtn__BCYDU",btn:"AdminMenu_btn__7lnqu",delBtn:"AdminMenu_delBtn__LcZEy",modalSubmitButton:"AdminMenu_modalSubmitButton__lp4X-"},g=t(381),_=t(5705),N=t(5294),y=t(184);N.Z.defaults.baseURL="https://furniture-production.onrender.com/";var C=function(e){var n=(0,i.I0)(),t=(0,p.$G)().t,s=(0,i.v9)(c.K),r=(0,i.v9)(l._).array,u=s.components.length>0?s.components:[""],h=[],v=[],C=[];try{r.forEach((function(e){h.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}))}catch(R){}try{u.forEach((function(e){v.push(e.id),C.push(e.quantity)}))}catch($){}var Z=(0,d.useState)(!1),I=(0,a.Z)(Z,2),S=I[0],w=I[1],k=(0,d.useState)([].concat(v)),F=(0,a.Z)(k,2),M=F[0],D=F[1],A=(0,d.useState)([].concat(C)),P=(0,a.Z)(A,2),B=P[0],W=P[1],z=(0,d.useState)(!1),O=(0,a.Z)(z,2),L=O[0],E=O[1],T=(0,d.useState)([]),U=(0,a.Z)(T,2),V=U[0],q=U[1];(0,d.useEffect)((function(){D([].concat(v)),W([].concat(C))}),[S]);var H=function(){w(!1),document.body.classList.remove("modal-open")},K=function(){E(!1),document.body.classList.remove("modal-open")},G=function(e){try{return h.find((function(n){return n.value===e})).label}catch(n){return"Select..."}};return(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{onClick:function(){E(!0),document.body.classList.add("modal-open")},className:j.btn,children:t("delete")}),(0,y.jsx)("button",{className:j.btn,onClick:function(){w(!0),document.body.classList.add("modal-open")},children:t("edit")}),(0,y.jsx)(g.N,{isOpen:S,close:H,className:j.modalContent,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:t("edit mode")}),(0,y.jsx)(_.J9,{initialValues:{name:s.name,dimensions:{width:s.dimensions.width,height:s.dimensions.height,depth:s.dimensions.depth},description:s.description,basePrice:s.basePrice,components:M,quantity:B,images:s.images},onSubmit:function(){var n=(0,f.Z)(b().mark((function n(t){var a,s,i,r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=new FormData,s=[],t.images.forEach((function(e,n){a.append("images[".concat(n,"]"),t.images[n])})),V.forEach((function(e){a.append("file",e)})),i=JSON.stringify(t.dimensions),a.append("dimensions",i),a.append("name",t.name),a.append("description",t.description),a.append("basePrice",t.basePrice),a.append("_id",e.id),M.forEach((function(e,n){var t=e,a=B[n];s.push({id:t,quantity:a})})),r=JSON.stringify(s),a.append("components",r),n.next=16,N.Z.post("/collections/update",a,{headers:{"Content-Type":"multipart/form-data"}});case 16:H(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.log(n.t0);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e){return n.apply(this,arguments)}}(),children:(0,y.jsxs)(_.l0,{className:j.formWrapper,children:[(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"name",children:t("unit name")}),(0,y.jsx)(_.gN,{className:j.field,id:"name",name:"name"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.width",children:t("width")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.depth",children:t("depth")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"dimensions.height",children:t("height")}),(0,y.jsx)(_.gN,{className:j.field,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"description",children:t("description")}),(0,y.jsx)(_.gN,{className:j.field,id:"description",name:"description",placeholder:"Description"})]}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"basePrice",children:t("base price")}),(0,y.jsx)(_.gN,{className:j.field,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,y.jsx)("div",{className:j.formItem,children:(0,y.jsx)(_.F2,{name:"images",render:function(e){return(0,y.jsx)("div",{className:j.field,children:e.form.values.images.map((function(n,a){return(0,y.jsxs)("div",{className:j.inputItem,children:[(0,y.jsx)("img",{src:n,alt:n,width:"200px"}),(0,y.jsx)("button",{className:j.btn,type:"button",onClick:function(){return e.remove(a)},children:t("delete")})]},a)}))})}})}),(0,y.jsxs)("div",{className:j.formItem,children:[(0,y.jsx)("label",{htmlFor:"files",children:t("add new images")}),(0,y.jsx)(_.gN,{className:j.field,id:"files",name:"files",type:"file",onChange:function(e){q((0,x.Z)(e.target.files))},multiple:!0})]}),(0,y.jsx)("div",{className:j.formItem,children:(0,y.jsx)(_.F2,{name:"components",render:function(e){return(0,y.jsx)("div",{children:M.map((function(e,n){return(0,y.jsxs)("div",{className:j.inputArray,children:[(0,y.jsx)(_.gN,{component:m.ZP,className:j.selectComponent,name:"components.".concat(n),onChange:function(e){return D((function(t){var a=(0,x.Z)(t);return a[n]=e.value,a}))},options:h,placeholder:G(e)}),(0,y.jsx)(_.gN,{className:"".concat(j.field," ").concat(j.quantityField),name:"quantity.".concat(n),value:B[n]||"",onChange:function(e){return W((function(t){var a=(0,x.Z)(t);return a[n]=e.target.value,a}))},placeholder:"Quantity"}),M.length>1?(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return function(e){D((function(n){return n.filter((function(n){return n!==e}))})),W((function(n){return n.filter((function(n,t){return M[t]!==e}))}))}(e)},children:"-"}):(0,y.jsx)(y.Fragment,{}),n===M.length-1&&(0,y.jsx)("button",{className:j.minBtn,type:"button",onClick:function(){return D((function(e){return[].concat((0,x.Z)(e),[""])})),void W((function(e){return[].concat((0,x.Z)(e),[""])}))},children:"+"})]},e)}))})}})}),(0,y.jsx)("button",{type:"submit",className:"".concat(j.btn," ").concat(j.modalSubmitButton),children:t("submit")})]})})]})}),(0,y.jsx)(g.N,{isOpen:L,close:K,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:[t("are you sure"),"???"]}),(0,y.jsxs)("div",{className:j.delModalWrapper,children:[(0,y.jsx)("button",{onClick:K,className:j.btn,children:t("cancel")}),(0,y.jsx)("button",{onClick:function(){n((0,o.Ir)(e))},className:"".concat(j.btn," ").concat(j.delBtn),children:t("delete")})]})]})})]})},Z=t(7762),I={calcHeader:"ManagerOptions_calcHeader__MCCJx",calcArea:"ManagerOptions_calcArea__iO44i",schemaArea:"ManagerOptions_schemaArea__yTzrP",inputsArea:"ManagerOptions_inputsArea__TTiKG",sizeInput:"ManagerOptions_sizeInput__2CgY1",sleepSizeInput:"ManagerOptions_sleepSizeInput__Wxrf4",proportionsBtnWrapper:"ManagerOptions_proportionsBtnWrapper__xwmA5",moduleDetailsArea:"ManagerOptions_moduleDetailsArea__1Qyj8",delModelBtn:"ManagerOptions_delModelBtn__NQyBU",btn:"ManagerOptions_btn__85RSr",bedDetailsWrapper:"ManagerOptions_bedDetailsWrapper__Yuev9"},S=t(744),w=t(7966),k=t.n(w),F=t(5218),M=t(8363),D=t.n(M);N.Z.defaults.baseURL="https://furniture-production.onrender.com/";var A=function(){var e=(0,p.$G)().t,n=(0,i.I0)(),s=(0,i.v9)((function(e){return e.products.activeItem})),r=(0,i.v9)((function(e){return e.fabrics.items})),c=(0,d.useState)(!1),l=(0,a.Z)(c,2),o=l[0],u=l[1],h=(0,d.useState)(null),v=(0,a.Z)(h,2),j=v[0],g=v[1],_=(0,d.useState)(s.dimensions.width||0),C=(0,a.Z)(_,2),w=C[0],M=C[1],A=(0,d.useState)(s.dimensions.depth||0),P=(0,a.Z)(A,2),B=P[0],W=P[1],z=(0,d.useState)(Number(160)),O=(0,a.Z)(z,2),L=O[0],E=O[1],T=(0,d.useState)(Number(200)),U=(0,a.Z)(T,2),V=U[0],q=U[1],H=(0,d.useState)(!0),K=(0,a.Z)(H,2),G=K[0],R=K[1],$=(0,d.useState)("Standard"),Y=(0,a.Z)($,2),J=Y[0],Q=Y[1],X=(0,d.useState)(10),ee=(0,a.Z)(X,2),ne=ee[0],te=ee[1],ae=(0,d.useState)("Standard"),se=(0,a.Z)(ae,2),ie=se[0],re=se[1],ce=(0,d.useState)(5),le=(0,a.Z)(ce,2),oe=le[0],ue=le[1],de=(0,d.useState)({value:"7",label:"7"}),pe=(0,a.Z)(de,2),me=pe[0],he=pe[1],fe=(0,d.useState)([]),xe=(0,a.Z)(fe,2),ve=xe[0],be=xe[1],je=(0,d.useState)({value:"\u0441 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438",label:"\u0421 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438"}),ge=(0,a.Z)(je,2),_e=ge[0],Ne=ge[1],ye=(0,d.useState)([]),Ce=(0,a.Z)(ye,2),Ze=Ce[0],Ie=Ce[1],Se=(0,d.useState)({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),we=(0,a.Z)(Se,2),ke=we[0],Fe=we[1],Me=(0,d.useState)([]),De=(0,a.Z)(Me,2),Ae=De[0],Pe=De[1],Be=(0,d.useState)({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),We=(0,a.Z)(Be,2),ze=We[0],Oe=We[1],Le=(0,d.useState)(""),Ee=(0,a.Z)(Le,2),Te=Ee[0],Ue=Ee[1];(0,d.useEffect)((function(){0===r.length&&n((0,S.T)())}),[n,r.length]),(0,d.useEffect)((function(){if(r&&r.length>0){var e=r.map((function(e){return{value:e.title,label:e.title.charAt(0).toUpperCase()+e.title.slice(1)}}));Ie([{value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}].concat((0,x.Z)(e)))}}),[r]),(0,d.useEffect)((function(){if("\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"!==ke.value){var e,n=r.find((function(e){return e.title===ke.value})),t=[],a=(0,Z.Z)(n.array);try{for(a.s();!(e=a.n()).done;){var s=e.value;t.push({value:"".concat(s.name," -$").concat(s.price),label:"".concat(s.name.charAt(0).toUpperCase()+s.name.slice(1)," -$").concat(s.price)})}}catch(i){a.e(i)}finally{a.f()}Oe({value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}),Pe([{value:"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e",label:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"}].concat(t))}}),[ke,r]);var Ve=(0,d.useRef)(null),qe=(0,d.useState)({width:0,height:0}),He=(0,a.Z)(qe,2),Ke=He[0],Ge=He[1];(0,d.useEffect)((function(){var e=function(){Ve.current&&Ge({width:Ve.current.offsetWidth,height:Ve.current.offsetHeight})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,d.useEffect)((function(){var e=function(){var e=(0,f.Z)(b().mark((function e(){var n,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(3604)("./".concat(s.name));case 3:n=e.sent,g((function(){return n.default})),e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Promise.all([t.e(363),t.e(417)]).then(t.bind(t,2417));case 11:a=e.sent,g((function(){return a.default}));case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[s.name,L,V,w,B]);var Re=(0,d.useRef)(null),$e=function(){var n=(0,f.Z)(b().mark((function n(){var t,a,i,r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),t=Re.current.getImage(),n.next=4,fetch(t);case 4:return a=n.sent,n.next=7,a.blob();case 7:return i=n.sent,(r=new FormData).append("file",i,"konva-image.jpg"),r.append("_id",s._id),r.append("width",w),r.append("depth",B),r.append("comment",Te),r.append("name",s.name),r.append("fabricDealer",ke.value),r.append("fabricName",ze.value),"bed"===s.group&&(r.append("mattressWidth",L),r.append("mattressDepth",V),r.append("standardProportions",G)),G||(r.append("headHeight",J),r.append("headDepth",ne),r.append("tsargHeight",ie),r.append("tsargWidth",oe)),s.costCalc.corner&&r.append("angleDirection",me.value),s.costCalc.drawstrings&&r.append("drawstrings",_e.value),n.prev=21,n.next=24,N.Z.post("/calculations/send",r,{headers:{"Content-Type":"multipart/form-data"}});case 24:u(!1),F.ZP.success(e("Your application has been successfully sent")),n.next=31;break;case 28:n.prev=28,n.t0=n.catch(21),F.ZP.error(n.t0);case 31:case"end":return n.stop()}}),n,null,[[21,28]])})));return function(){return n.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{className:I.calcHeader,children:e("cost calculation")}),(0,y.jsxs)("div",{className:I.calcArea,children:[(0,y.jsx)("div",{ref:Ve,className:I.schemaArea,children:j?(0,y.jsx)(j,{ref:Re,dimensions:Ke,productWidth:w,productDepth:B,angleDirection:me,activeModules:ve,setActiveModules:be,mattressWidth:L,mattressDepth:V,headDepth:ne,setHeadDepth:te,tsargWidth:oe,setTsargWidth:ue}):(0,y.jsx)("p",{children:"Loading..."})}),(0,y.jsxs)("div",{className:I.inputsArea,id:"widthInput",children:[(0,y.jsxs)("label",{children:[e("width"),"bed"===s.group&&(0,y.jsx)("input",{className:I.sizeInput,disabled:!0,value:w}),"bed"!==s.group&&(0,y.jsx)("input",{className:I.sizeInput,value:null!==w&&void 0!==w?w:100,onChange:function(e){return M(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("depth"),"bed"===s.group&&(0,y.jsx)("input",{className:I.sizeInput,disabled:!0,value:B}),"bed"!==s.group&&(0,y.jsx)("input",{className:I.sizeInput,defaultValue:B,onChange:function(e){return e.target.value>=100&&W(Number(e.target.value))}})]}),"bed"===s.group&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{children:e("sleeping area")}),(0,y.jsxs)("div",{children:[(0,y.jsx)("input",{className:"".concat(I.sizeInput," ").concat(I.sleepSizeInput),defaultValue:L,onChange:function(e){return e.target.value>=90&&function(e){var n=e-160;M((function(){return Number(s.dimensions.width)+n})),E(e)}(Number(e.target.value))}})," x ",(0,y.jsx)("input",{className:"".concat(I.sizeInput," ").concat(I.sleepSizeInput),defaultValue:V,onChange:function(e){return e.target.value>=90&&function(e){var n=e-200;W((function(){return Number(s.dimensions.depth)+n})),q(e)}(Number(e.target.value))}})]}),(0,y.jsxs)("div",{className:I.proportionsBtnWrapper,children:[(0,y.jsx)("p",{className:I.proportionsLabel,children:e("standard proportions")}),(0,y.jsx)(k(),{inactiveLabel:"X",activeLabel:"V",value:G,onToggle:function(e){R(!e)}})]}),!G&&(0,y.jsxs)("div",{className:I.bedDetailsWrapper,children:[(0,y.jsxs)("label",{children:[e("head height"),(0,y.jsx)("input",{className:I.sizeInput,defaultValue:J,onChange:function(e){return e.target.value>=9&&Q(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("head thickness"),(0,y.jsx)("input",{className:I.sizeInput,defaultValue:ne,onChange:function(e){return e.target.value>=9&&function(e){if(e>ne){var n=e-ne;W((function(){return B+n}))}else{var t=ne-e;W((function(){return B-t}))}te(e)}(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("tsarg height"),(0,y.jsx)("input",{className:I.sizeInput,defaultValue:ie,onChange:function(e){return e.target.value>=9&&re(Number(e.target.value))}})]}),(0,y.jsxs)("label",{children:[e("tsarg thickness"),(0,y.jsx)("input",{className:I.sizeInput,defaultValue:oe,onChange:function(e){return e.target.value>=5&&function(e){if(e>oe){var n=e-oe;W((function(){return B+n})),M((function(){return w+2*n}))}else{var t=oe-e;W((function(){return B-t})),M((function(){return w-2*t}))}ue(e)}(Number(e.target.value))}})]})]})]}),s.costCalc.corner&&(0,y.jsxs)("label",{children:[e("angle direction"),(0,y.jsx)(m.ZP,{placeholder:"\u0443\u0433\u043e\u043b \u043f\u043e\u0432\u043e\u0440\u043e\u0442\u0430",options:[{value:"7",label:"7"},{value:"\u0413",label:"\u0413"}],defaultValue:me,onChange:function(e){return he(e)}})]}),s.costCalc.module&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:I.proportionsBtnWrapper,children:[(0,y.jsx)("p",{className:I.proportionsLabel,children:e("standard proportions")}),(0,y.jsx)(k(),{inactiveLabel:"X",activeLabel:"V",value:G,onToggle:function(e){R(!e)}})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{children:[e("modules list"),":"]}),(0,y.jsx)("ul",{children:ve.map((function(e,n){return(0,y.jsxs)("li",{className:I.moduleDetailsArea,children:[(0,y.jsx)("p",{children:e.name}),(0,y.jsx)("button",{className:I.delModelBtn,onClick:function(){return function(e){if("BKPL"!==ve[e].id){var n=w-ve[e].width;M(n)}be((function(n){return[].concat((0,x.Z)(n.slice(0,e)),(0,x.Z)(n.slice(e+1)))}))}(n)},children:"x"})]},n)}))})]})]}),s.costCalc.drawstrings&&(0,y.jsxs)("label",{children:[e("\u0423\u0442\u044f\u0436\u043a\u0438"),(0,y.jsx)(m.ZP,{placeholder:"\u0443\u0442\u044f\u0436\u043a\u0438",options:[{value:"\u0441 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438",label:"\u0421 \u0443\u0442\u044f\u0436\u043a\u0430\u043c\u0438"},{value:"\u0431\u0435\u0437 \u0443\u0442\u044f\u0436\u0435\u043a",label:"\u0411\u0435\u0437 \u0443\u0442\u044f\u0436\u0435\u043a"}],defaultValue:_e,onChange:function(e){return Ne(e)}})]}),(0,y.jsxs)("label",{children:[e("supplier"),(0,y.jsx)(m.ZP,{name:"fabricDealer",placeholder:"\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a \u0442\u043a\u0430\u043d\u0438",defaultValue:ke,options:Ze.sort((function(e,n){return e.value.localeCompare(n.value)})),onChange:function(e){return Fe(e)}})]}),"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"!==ke.value&&(0,y.jsxs)("label",{children:[e("fabric name"),(0,y.jsx)(m.ZP,{placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043a\u0430\u043d\u0438",options:Ae,value:ze,onChange:function(e){return Oe(e)}})]}),(0,y.jsxs)("label",{children:[e("comment"),(0,y.jsx)("input",{className:I.sizeInput,defaultValue:Te,onChange:function(e){return Ue(e.target.value)}})]}),(0,y.jsx)("button",{className:I.btn,onClick:$e,children:o?(0,y.jsx)(D(),{color:"#c8c19b",size:"10px"}):"".concat(e("send"))}),(0,y.jsx)("p",{children:e("or")}),(0,y.jsx)("button",{className:I.btn,onClick:function(){u(!0);var e=Re.current.getImage(),n=document.createElement("a");n.href=e,n.download="konva-image.jpg",n.click(),u(!1)},children:o?(0,y.jsx)(D(),{color:"#c8c19b",size:"10px"}):"".concat(e("download scheme"))})]})]})]})},P=function(e){var n=e.components,t=(0,i.v9)(l._).array,s=(0,p.$G)().t,r=(0,d.useState)(0),c=(0,a.Z)(r,2),o=c[0],u=c[1],m=(0,d.useState)(0),h=(0,a.Z)(m,2),f=h[0],x=h[1],v=(0,d.useCallback)((function(e){return t&&0!==t.length?t.find((function(n){return n._id===e})):{_id:"",name:"",price:0,currency:"USD",units:"\u0448\u0442"}}),[t]);(0,d.useEffect)((function(){var e=0,t=0;n.forEach((function(n){var a=v(n.id).price*n.quantity;"\u0433\u0440\u043d"===v(n.id).currency?e+=a:t+=a})),u(Math.round(e)),x(Math.round(t))}),[n,v]);try{return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("p",{children:[s("product components"),":"]}),(0,y.jsx)("ul",{children:n.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)("p",{children:"".concat(v(e.id).name," - ").concat(e.quantity," ").concat(v(e.id).units)})},e.id)}))}),(0,y.jsx)("p",{children:"".concat(s("total"),": ").concat(o,"\u0433\u0440\u043d, $").concat(f)})]})}catch(b){return(0,y.jsx)("p",{children:"not found"})}},B=t(4253),W=[{value:"140",label:"140 x 200(190)"},{value:"160",label:"160 x 200(190)"},{value:"180",label:"180 x 200(190)"},{value:"200",label:"200 x 200(190)"}],z=function(){var e=(0,i.I0)(),n=(0,h.a)(),t=n.user,f=n.isLoggedIn,x=(0,d.useState)({value:"160",label:"160 x 200(190)"}),v=(0,a.Z)(x,2),b=v[0],j=v[1],g=(0,s.UO)().id,_=(0,i.v9)(c.K),N=(0,i.v9)(l._),Z=(0,p.$G)().t,I=_.dimensions.width-160;return(0,d.useEffect)((function(){e((0,o.wv)(g)),f&&0===N.length&&e((0,B.sd)())}),[e,N.length,f,g]),(0,y.jsxs)("div",{className:u.section,children:[(0,y.jsx)("h1",{className:u.title,children:_.name}),(0,y.jsx)(r.lr,{showIndicators:!1,children:_.images.map((function(e){return(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:e,alt:_.name})},e)}))}),"bed"===_.group?(0,y.jsxs)("div",{className:u.baseInfoWrapper,children:[(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[Z("sleeping area"),":"]}),(0,y.jsx)(m.ZP,{defaultValue:b,onChange:j,options:W}),(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[Z("overall size"),":"]}),(0,y.jsxs)("p",{children:[Number(b.value)+Number(I)," x ",_.dimensions.depth,"(",_.dimensions.depth-10,")"]})]}):(0,y.jsxs)("div",{className:u.baseInfoWrapper,children:[(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[Z("overall size"),":"]}),(0,y.jsxs)("p",{children:[_.dimensions.depth," x ",_.dimensions.width," x ",_.dimensions.height]})]}),(0,y.jsxs)("p",{className:u.baseInfoTitle,children:[Z("description"),":"]}),(0,y.jsx)("p",{children:_.description}),f?"administrator"===t.description&&(0,y.jsxs)("div",{className:u.adminBlock,children:[(0,y.jsx)(P,{components:_.components}),(0,y.jsx)(C,{id:g})]}):(0,y.jsx)(y.Fragment,{}),f?(0,y.jsx)("div",{className:u.adminBlock,children:(0,y.jsx)(A,{})},_._id):(0,y.jsx)(y.Fragment,{})]})};function O(){return(0,y.jsx)(z,{})}},5536:function(e,n,t){"use strict";t.d(n,{_:function(){return a}});var a=function(e){return e.components.items}},9654:function(e,n,t){"use strict";t.d(n,{K:function(){return s},q:function(){return a}});var a=function(e){return e.products.items},s=function(e){return e.products.activeItem}},3604:function(e,n,t){var a={"./Difi":[4022,363,22],"./Difi.js":[4022,363,22],"./Faynee-mini":[8082,363,82],"./Faynee-mini.js":[8082,363,82],"./Feelee":[62,363,62],"./Feelee.js":[62,363,62],"./Flow":[7620,363,174],"./Flow.js":[7620,363,174],"./Frao":[8116,363,814],"./Frao.js":[8116,363,814],"./Hugo":[5363,363,253],"./Hugo.js":[5363,363,253],"./Marsel":[7630,363,630],"./Marsel.js":[7630,363,630],"./Smart":[779,363,779],"./Smart.js":[779,363,779],"./Sofia-Nova":[8901,363,901],"./Sofia-Nova.js":[8901,363,901],"./Undefined":[2417,363,417],"./Undefined.js":[2417,363,417]};function s(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],s=n[0];return Promise.all(n.slice(1).map(t.e)).then((function(){return t(s)}))}s.keys=function(){return Object.keys(a)},s.id=3604,e.exports=s}}]);
//# sourceMappingURL=401.2329bc53.chunk.js.map