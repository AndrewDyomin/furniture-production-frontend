"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[712],{381:function(e,r,a){a.d(r,{N:function(){return d}});var n=a(3439),t=a(7948),l=a.n(t),s="PopUp_modalCloseButton__m06-1",i="PopUp_menuIcon__5-11v",c=a(184),d=function(e){var r=e.isOpen,a=e.close,t=e.body;return(0,c.jsxs)(l(),{isOpen:r,onRequestClose:a,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,c.jsx)("button",{className:s,type:"button",onClick:a,children:(0,c.jsx)("svg",{className:i,children:(0,c.jsx)("use",{href:"".concat(n.Z,"#icon-close-circle")})})}),t]})}},9712:function(e,r,a){a.r(r),a.d(r,{default:function(){return P}});var n=a(2791),t=a(4420),l=a(3050),s=a(8384),i=a(5861),c=a(3433),d=a(9439),o=a(4687),u=a.n(o),m=a(8363),f=a.n(m),p=a(7689),h=a(1087),x="Order_wrapper__hSe-H",v="Order_onePart__z8EQC",b="Order_twoPart__kW2Wj",_="Order_done__PAJ0w",g="Order_number__YkUyJ",j="Order_discription__O8Cz6",N="Order_orderName__2RZDO",O="Order_orderDeadline__N6MRk",y="Order_orderFabric__Dd6Qe",C="Order_orderDealer__Dw2lE",S="Order_backgroundBlue__WKiIX",Z="Order_backgroundGreen__-mewF",F=a(6502),E=a(4217),k=a(4805),L=a(184),I=function(e){var r=e.id,a=(0,t.v9)(F.pi).allOrdersArray.find((function(e){return e._id===r})),n=new Date(a.plannedDeadline),l=(0,t.v9)(E.dy),s=(0,k.useMediaQuery)({query:"(max-width: 833px)"}),i=y,c=x;return"ordered"===a.fabricStatus?i="".concat(y," ").concat(S):"received"===a.fabricStatus&&(i="".concat(y," ").concat(Z)),"TRUE"===a.orderStatus?c="".concat(x," ").concat(_):"TRUE"===a.coverStatus&&"TRUE"===a.frameStatus?c="".concat(x," ").concat(b):"TRUE"!==a.coverStatus&&"TRUE"!==a.frameStatus||(c="".concat(x," ").concat(v)),(0,L.jsxs)("div",{className:c,children:[(0,L.jsx)("p",{className:g,children:a.number}),(0,L.jsxs)("div",{className:j,children:[(0,L.jsxs)("p",{className:N,children:[!s&&a.group," ",a.name]}),"administrator"===l.description||"seamstress"===l.description?(0,L.jsx)("p",{className:i,children:a.fabric}):(0,L.jsx)(L.Fragment,{}),s&&(0,L.jsx)("p",{className:O,children:"".concat(n.getDate(),".").concat(n.getMonth()+1,".").concat(n.getFullYear())}),(0,L.jsx)("p",{className:C,children:a.dealer})]})]})},z=a(381),A=a(5705),q=a(8007),w=a(5294),R=a(5218),T=a(9230),U={list:"OrdersList_list__QGi1g",item:"OrdersList_item__AQirm",orderLink:"OrdersList_orderLink__1O6g2",navigation:"OrdersList_navigation__3Rmp5",addOrderBtn:"OrdersList_addOrderBtn__vAwBs",formWrapper:"OrdersList_formWrapper__D+6CQ",formItem:"OrdersList_formItem__EveLI",label:"OrdersList_label__mx1aV",field:"OrdersList_field__b6Rcj",formError:"OrdersList_formError__FYCQa",btn:"OrdersList_btn__vek9I",dateWrapper:"OrdersList_dateWrapper__-kC8y",dayTitle:"OrdersList_dayTitle__aqtaK",dateItem:"OrdersList_dateItem__q1vzl"},D=a(5842);w.Z.defaults.baseURL="https://furniture-production.onrender.com/";var W=function(){var e=(0,T.$G)().t,r=(0,k.useMediaQuery)({query:"(max-width: 833px)"}),a=[{value:"".concat(e("sofa")),label:"".concat(e("sofa"))},{value:"".concat(e("bed")),label:"".concat(e("bed"))},{value:"".concat(e("kitchen banquette")),label:"".concat(e("kitchen banquette"))},{value:"".concat(e("pouf")),label:"".concat(e("pouf"))},{value:"".concat(e("mattress")),label:"".concat(e("mattress"))}],l=[{value:"160 x 200",label:"160 x 200"},{value:"180 x 200",label:"180 x 200"},{value:"200 x 200",label:"200 x 200"},{value:"160 x 190",label:"160 x 190"},{value:"180 x 190",label:"180 x 190"},{value:"200 x 190",label:"200 x 190"},{value:"90 x 200",label:"90 x 200"},{value:"120 x 200",label:"120 x 200"},{value:"140 x 200",label:"140 x 200"},{value:"90 x 190",label:"90 x 190"},{value:"120 x 190",label:"120 x 190"},{value:"140 x 190",label:"140 x 190"}],o=(0,n.useState)(""),m=(0,d.Z)(o,2),x=m[0],v=m[1],b=(0,n.useState)(!1),_=(0,d.Z)(b,2),g=_[0],j=_[1],N=(0,n.useState)({value:"".concat(e("sofa")),label:"".concat(e("sofa"))}),O=(0,d.Z)(N,2),y=O[0],C=O[1],S=(0,n.useState)(""),Z=(0,d.Z)(S,2),W=Z[0],P=Z[1],H=(0,n.useState)({value:"160 x 200",label:"160 x 200"}),Q=(0,d.Z)(H,2),B=Q[0],M=Q[1],V=(0,n.useState)(""),Y=(0,d.Z)(V,2),K=Y[0],G=Y[1],J=(0,n.useState)(""),X=(0,d.Z)(J,2),$=X[0],ee=X[1],re=(0,n.useState)(""),ae=(0,d.Z)(re,2),ne=ae[0],te=ae[1],le=(0,n.useState)(""),se=(0,d.Z)(le,2),ie=se[0],ce=se[1],de=(0,n.useState)(""),oe=(0,d.Z)(de,2),ue=oe[0],me=oe[1],fe=(0,n.useState)(""),pe=(0,d.Z)(fe,2),he=pe[0],xe=pe[1],ve=(0,n.useState)(""),be=(0,d.Z)(ve,2),_e=be[0],ge=be[1],je=(0,n.useState)(""),Ne=(0,d.Z)(je,2),Oe=Ne[0],ye=Ne[1],Ce=(0,n.useState)(!1),Se=(0,d.Z)(Ce,2),Ze=Se[0],Fe=Se[1],Ee=(0,p.TH)(),ke=(0,t.v9)(E.dy),Le=(0,t.I0)(),Ie=(0,t.v9)(F.NH),ze=(0,t.v9)(F.pi),Ae=[],qe=ze.allOrdersArray,we=[],Re=[{value:"",label:"All"}];ze.allOrdersArray&&(ze.allOrdersArray.forEach((function(e,r){Ae.push({value:"".concat(e.dealer),label:"".concat(e.dealer)})})),Ae.forEach((function(e){Re.some((function(r){return r.value.toLowerCase()===e.value.toLowerCase()}))||Re.push(e)}))),"seamstress"===ke.description&&(qe=ze.allOrdersArray&&0!==ze.allOrdersArray.length?ze.allOrdersArray.filter((function(e){return"TRUE"!==e.coverStatus&&"TRUE"!==e.orderStatus})):[]),"carpenter"===ke.description&&(qe=ze.allOrdersArray&&0!==ze.allOrdersArray.length?ze.allOrdersArray.filter((function(e){return"TRUE"!==e.frameStatus&&"TRUE"!==e.orderStatus})):[]),"upholsterer"===ke.description&&(qe=ze.allOrdersArray&&0!==ze.allOrdersArray.length?ze.allOrdersArray.filter((function(e){return"TRUE"!==e.orderStatus})):[]);var Te=qe&&0!==qe.length?qe.filter((function(e){return e.dealer.toLowerCase().includes(x.toLowerCase())})):[],Ue=function(){j(!1),document.body.classList.remove("modal-open")},De=function(e){ye((0,c.Z)(e.target.files))};function We(e){var r=new Date(e),a=r.getMonth()+1;return"".concat(r.getDate().toString().padStart(2,"0"),".").concat(a.toString().padStart(2,"0"),".").concat(r.getFullYear())}var Pe=q.Ry().shape({group:q.Z_().required("".concat(e("required"))),name:q.Z_().required("".concat(e("required"))),size:q.Z_().required("".concat(e("required"))),fabric:q.Z_().required("".concat(e("required"))),description:q.Z_().required("".concat(e("required"))),number:q.Z_().required("".concat(e("required"))),adress:q.Z_(),rest:q.Z_(),deadline:q.Rx().min(10,"".concat(e("too small"))).max(60,"".concat(e("too large"))).required("".concat(e("required")))});r||Te.forEach((function(e,r){var a=We(e.plannedDeadline);!we.includes(a)&&we.push(a)}));var He=function(){return r?(0,L.jsx)("ul",{className:U.list,children:Te.map((function(e){var r=e._id;return(0,L.jsx)("li",{className:U.item,children:(0,L.jsx)(h.rU,{to:"".concat(r),state:{from:Ee},className:U.orderLink,onClick:function(){return Le((0,s.zH)(ze.allOrdersArray.find((function(e){return e._id===r}))))},children:(0,L.jsx)(I,{id:r})})},r)}))}):(0,L.jsx)("ul",{className:U.list,children:we.map((function(e){return(0,L.jsxs)("li",{className:U.dateItem,children:[(0,L.jsx)("p",{className:U.dayTitle,children:e}),(0,L.jsx)("ul",{className:"".concat(U.list," ").concat(U.dateWrapper),children:Te.map((function(r){var a=r._id;return We(r.plannedDeadline)===e&&(0,L.jsx)("li",{className:U.item,children:(0,L.jsx)(h.rU,{to:"".concat(a),state:{from:Ee},className:U.orderLink,onClick:function(){return Le((0,s.zH)(ze.allOrdersArray.find((function(e){return e._id===a}))))},children:(0,L.jsx)(I,{id:a})})},a)}))})]},e)}))})};return(0,L.jsxs)("div",{className:U.container,children:[(0,L.jsxs)("div",{className:U.navigation,children:[(0,L.jsx)(D.ZP,{className:U.filter,name:"filter",id:"filter",onChange:function(e){return v(e.value)},options:Re,defaultValue:x,placeholder:e("filter")}),(0,L.jsx)("button",{className:"".concat(U.btn," ").concat(U.addOrderBtn),onClick:function(){j(!0),document.body.classList.add("modal-open")},children:e("add order")})]}),Ie?(0,L.jsx)(f(),{color:"#c8c19b",cssOverride:{marginTop:"15px",display:"flex",justifyContent:"center"}}):(0,L.jsx)(L.Fragment,{}),0!==Te.length?(0,L.jsx)(He,{}):(0,L.jsx)(L.Fragment,{}),(0,L.jsx)(z.N,{isOpen:g,close:Ue,body:(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("div",{className:U.orderModalWrapper,children:(0,L.jsx)(A.J9,{enableReinitialize:!0,initialValues:{group:y.value,name:W,size:K,fabric:$,description:ne,number:ie,adress:ue,rest:he,deadline:_e},validationSchema:Pe,onSubmit:function(){var r=(0,i.Z)(u().mark((function r(a,n){var t,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.resetForm,r.prev=1,Fe(!0),(l=new FormData).append("group",y.value),l.append("name",a.name),l.append("size",a.size),l.append("fabric",a.fabric),y.value==="".concat(e("bed"))?l.append("description",a.description+" \u0421\u043f\u0430\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e ".concat(B.value)):l.append("description",a.description),l.append("number",a.number),l.append("adress",a.adress),l.append("rest",a.rest),l.append("deadline",a.deadline),Oe&&0!==Oe.length&&Oe.forEach((function(e){l.append("file",e)})),r.next=16,w.Z.post("/orders/add",l,{headers:{"Content-Type":"multipart/form-data"}});case 16:R.ZP.success("Order sended"),t(),Fe(!1),C({value:"".concat(e("sofa")),label:"".concat(e("sofa"))}),P(""),G(""),ee(""),te(""),ce(""),me(""),xe(""),ge(""),Ue(),Le((0,s.h_)()),r.next=35;break;case 32:r.prev=32,r.t0=r.catch(1),R.ZP.error("".concat(r.t0.response.data.message));case 35:case"end":return r.stop()}}),r,null,[[1,32]])})));return function(e,a){return r.apply(this,arguments)}}(),children:function(r){var n=r.errors,t=r.touched,s=r.setFieldValue;return(0,L.jsxs)(A.l0,{className:U.formWrapper,children:[(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"group",children:e("group")}),(0,L.jsx)(A.gN,{component:D.ZP,name:"group",id:"group",onChange:function(e){return C(e)},options:a,defaultValue:y.value,placeholder:y.label}),n.group&&t.group?(0,L.jsx)("div",{children:n.group}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"name",children:e("order name")}),(0,L.jsx)(A.gN,{className:n.name&&t.name?"".concat(U.field," ").concat(U.formError):U.field,id:"name",name:"name",placeholder:"Faynee mini",value:W,onChange:function(e){P(e.target.value),s("name",e.target.value)}}),n.name&&t.name?(0,L.jsx)("div",{children:n.name}):null]}),y.value==="".concat(e("bed"))?(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"sleepingArea",children:e("sleeping area")}),(0,L.jsx)(A.gN,{component:D.ZP,name:"sleepingArea",id:"sleepingArea",onChange:function(e){return M(e)},options:l,defaultValue:B.value,placeholder:B.value})]}):(0,L.jsx)(L.Fragment,{}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"size",children:e("size")}),(0,L.jsx)(A.gN,{className:n.size&&t.size?"".concat(U.field," ").concat(U.formError):U.field,id:"size",name:"size",placeholder:"".concat(e("overall size")),value:K,onChange:function(e){G(e.target.value),s("size",e.target.value)}}),n.size&&t.size?(0,L.jsx)("div",{children:n.size}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"fabric",children:e("fabric")}),(0,L.jsx)(A.gN,{className:n.fabric&&t.fabric?"".concat(U.field," ").concat(U.formError):U.field,id:"fabric",name:"fabric",placeholder:e("fabric name"),value:$,onChange:function(e){ee(e.target.value),s("fabric",e.target.value)}}),n.fabric&&t.fabric?(0,L.jsx)("div",{children:n.fabric}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"description",children:e("description")}),(0,L.jsx)(A.gN,{as:"textarea",rows:"3",className:n.description&&t.description?"".concat(U.field," ").concat(U.formError):U.field,id:"description",name:"description",placeholder:e("description"),value:ne,onChange:function(e){te(e.target.value),s("description",e.target.value)}}),n.description&&t.description?(0,L.jsx)("div",{children:n.description}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"number",children:e("number")}),(0,L.jsx)(A.gN,{className:n.number&&t.number?"".concat(U.field," ").concat(U.formError):U.field,id:"number",name:"number",placeholder:"125",value:ie,onChange:function(e){ce(e.target.value),s("number",e.target.value)}}),n.number&&t.number?(0,L.jsx)("div",{children:n.number}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"adress",children:e("adress")}),(0,L.jsx)(A.gN,{className:n.adress&&t.adress?"".concat(U.field," ").concat(U.formError):U.field,id:"adress",name:"adress",placeholder:e("Kiev, Kyrylivska street, 103"),value:ue,onChange:function(e){me(e.target.value),s("adress",e.target.value)}}),n.adress&&t.adress?(0,L.jsx)("div",{children:n.adress}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"rest",children:e("rest")}),(0,L.jsx)(A.gN,{className:n.rest&&t.rest?"".concat(U.field," ").concat(U.formError):U.field,id:"rest",name:"rest",placeholder:"21000",value:he,onChange:function(e){xe(e.target.value),s("rest",e.target.value)}}),n.rest&&t.rest?(0,L.jsx)("div",{children:n.rest}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"deadline",children:e("deadline")}),(0,L.jsx)(A.gN,{className:n.deadline&&t.deadline?"".concat(U.field," ").concat(U.formError):U.field,id:"deadline",name:"deadline",placeholder:"21",value:_e,onChange:function(e){ge(e.target.value),s("deadline",e.target.value)}}),n.deadline&&t.deadline?(0,L.jsx)("div",{children:n.deadline}):null]}),(0,L.jsxs)("div",{className:U.formItem,children:[(0,L.jsx)("label",{htmlFor:"files",children:e("add new images")}),(0,L.jsx)(A.gN,{className:U.field,id:"files",name:"files",type:"file",onChange:De,multiple:!0})]}),(0,L.jsx)("button",{type:"submit",className:U.btn,children:Ze?(0,L.jsx)(f(),{color:"#c8c19b",size:"10px"}):"".concat(e("submit"))})]})}})})})})]})};function P(){var e=(0,t.I0)();return(0,n.useEffect)((function(){e((0,s.zH)({})),e((0,s.h_)())}),[e]),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(l.B6,{children:[(0,L.jsx)(l.ql,{children:(0,L.jsx)("title",{children:"Your orders"})}),(0,L.jsx)(W,{})]})})}},6502:function(e,r,a){a.d(r,{NH:function(){return l},ST:function(){return t},pi:function(){return n}});var n=function(e){return e.orders.items},t=function(e){return e.orders.activeItem},l=function(e){return e.orders.isLoading}}}]);
//# sourceMappingURL=712.8f918ee3.chunk.js.map