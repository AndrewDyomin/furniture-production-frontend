"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[913],{381:function(e,r,n){n.d(r,{N:function(){return d}});var a=n(3439),t=n(7948),i=n.n(t),s="PopUp_modalCloseButton__m06-1",c="PopUp_menuIcon__5-11v",o=n(184),d=function(e){var r=e.isOpen,n=e.close,t=e.body;return(0,o.jsxs)(i(),{isOpen:r,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,o.jsx)("button",{className:s,type:"button",onClick:n,children:(0,o.jsx)("svg",{className:c,children:(0,o.jsx)("use",{href:"".concat(a.Z,"#icon-close-circle")})})}),t]})}},9913:function(e,r,n){n.r(r),n.d(r,{default:function(){return y}});var a=n(4420),t=n(7689),i=n(3050),s=n(6502),c=n(5861),o=n(3433),d=n(9439),l=n(4687),p=n.n(l),u={orderNumber:"OrderInfo_orderNumber__2q9MF",description:"OrderInfo_description__zLh2V",orderName:"OrderInfo_orderName__-OHBi",orderSize:"OrderInfo_orderSize__BVU05",orderFabric:"OrderInfo_orderFabric__X9Sm5",orderDescription:"OrderInfo_orderDescription__iXIxd",orderDeadline:"OrderInfo_orderDeadline__8ywa6",imagesList:"OrderInfo_imagesList__LA3Fp",orderImage:"OrderInfo_orderImage__2G8nz",btn:"OrderInfo_btn__fLqg+",minBtn:"OrderInfo_minBtn__uJ0Ts",activeBtn:"OrderInfo_activeBtn__zF9Bf",formWrapper:"OrderInfo_formWrapper__+kjz9",formItem:"OrderInfo_formItem__kNYm6",label:"OrderInfo_label__s3BbH",field:"OrderInfo_field__Q3vr4",inputItem:"OrderInfo_inputItem__GG5Bb",optionWrapper:"OrderInfo_optionWrapper__qdKC2"},m=n(2791),f=n(9230),b=n(8363),h=n.n(b),x=n(5294),v=n(5842),j=n(5705),g=n(4217),_=n(8384),N=n(381),S=n(184),O=function(e){e.id;var r=(0,f.$G)().t,n=(0,a.I0)(),t=(0,a.v9)(s.ST),i=(0,a.v9)(g.dy),l=[{value:"",label:"".concat(r("not ordered"))},{value:"ordered",label:"".concat(r("ordered"))},{value:"received",label:"".concat(r("received"))}],b={value:"",label:"".concat(r("not ordered"))};function O(e){var r=new Date(e),n=r.getMonth()+1;return"".concat(r.getDate().toString().padStart(2,"0"),".").concat(n.toString().padStart(2,"0"),".").concat(r.getFullYear())}var y=(0,m.useState)(!1),I=(0,d.Z)(y,2),F=I[0],w=I[1],z=(0,m.useState)([]),D=(0,d.Z)(z,2),k=D[0],C=D[1],P=(0,m.useState)(!1),B=(0,d.Z)(P,2),E=B[0],R=B[1];"ordered"===t.fabricStatus?b={value:"ordered",label:"".concat(r("ordered"))}:"received"===t.fabricStatus&&(b={value:"received",label:"".concat(r("received"))});var L=function(){w(!0),document.body.classList.add("modal-open"),C([])},U=function(){w(!1),document.body.classList.remove("modal-open")},W=function(){var e=(0,c.Z)(p().mark((function e(r){var a,i,s,c,o,d;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),R(!0),a=t.orderStatus,i=t.fabricStatus,s=t.coverStatus,c=t.frameStatus,""===r.value?i="":r.value&&(i=r.value),r.target&&("isSewn"===r.target.name?s="TRUE"!==t.coverStatus?"TRUE":"":"frame"===r.target.name?c="TRUE"!==t.frameStatus?"TRUE":"":"order"===r.target.name&&(a="TRUE"!==t.orderStatus?"TRUE":"")),(o=new FormData).append("group",t.group),o.append("size",t.size),o.append("name",t.name),o.append("fabric",t.fabric),o.append("description",t.description),o.append("base",t.base),o.append("deliveryDate",t.deliveryDate),o.append("innerPrice",t.innerPrice),o.append("number",t.number),o.append("dealer",t.dealer),o.append("deadline",t.deadline),o.append("dateOfOrder",O(t.dateOfOrder)),o.append("adress",t.adress),o.append("additional",t.additional),o.append("rest",t.rest),o.append("plannedDeadline",O(t.plannedDeadline)),o.append("orderStatus",a),o.append("_id",t._id),t.images.forEach((function(e,r){o.append("images[".concat(r,"]"),t.images[r])})),o.append("fabricStatus",i),o.append("coverStatus",s),o.append("frameStatus",c),e.next=33,x.Z.post("/orders/update",o,{headers:{"Content-Type":"multipart/form-data"}});case 33:d=e.sent,n((0,_.z)(d.data)),R(!1);case 36:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:u.wrapper,children:[(0,S.jsx)("p",{className:u.orderNumber,children:t.number}),(0,S.jsxs)("div",{className:u.description,children:[(0,S.jsxs)("p",{className:u.orderName,children:[t.group," ",t.name]}),(0,S.jsxs)("p",{className:u.orderSize,children:[r("size"),": ",t.size]}),(0,S.jsxs)("p",{className:u.orderFabric,children:[r("fabric"),": ",t.fabric]}),(0,S.jsxs)("p",{className:u.orderDescription,children:[r("description"),": ",t.description]}),(0,S.jsxs)("p",{className:u.orderDeadline,children:[r("deadline"),": ",O(t.plannedDeadline)]}),(0,S.jsx)("p",{children:t.dealer}),"seamstress"===i.description||"carpenter"===i.description||"upholsterer"===i.description?(0,S.jsx)(S.Fragment,{}):(0,S.jsxs)("div",{children:[(0,S.jsxs)("p",{className:u.orderAdress,children:[r("adress"),": ",t.adress]}),(0,S.jsxs)("p",{className:u.orderRest,children:[r("rest"),": ",t.rest]})]})]}),t.images&&0!==t.images.length?(0,S.jsx)("ul",{className:u.imagesList,children:t.images.map((function(e){return(0,S.jsx)("li",{children:(0,S.jsx)("img",{className:u.orderImage,src:"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),alt:e})},"".concat(e))}))}):(0,S.jsx)(S.Fragment,{}),"administrator"===i.description?(0,S.jsxs)("div",{className:u.optionWrapper,children:[(0,S.jsx)("button",{className:u.btn,onClick:L,children:r("edit")}),(0,S.jsx)(v.ZP,{className:u.fabricStatusSelector,name:"fabricStatusSelector",id:"fabricStatusSelector",onChange:function(e){return W(e)},options:l,defaultValue:b,placeholder:r("fabric")}),(0,S.jsx)("button",{name:"isSewn",className:""===t.coverStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("is sewn"))}),(0,S.jsx)("button",{name:"frame",className:""===t.frameStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("frame is done"))}),(0,S.jsx)("button",{name:"order",className:""===t.orderStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("order is done"))})]}):(0,S.jsx)(S.Fragment,{}),"manager"===i.description?(0,S.jsxs)("div",{className:u.optionWrapper,children:[(0,S.jsx)("button",{className:u.btn,onClick:L,children:r("edit")}),(0,S.jsx)("button",{name:"order",className:""===t.orderStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("order is done"))})]}):(0,S.jsx)(S.Fragment,{}),"seamstress"===i.description?(0,S.jsx)("div",{className:u.optionWrapper,children:(0,S.jsx)("button",{name:"isSewn",className:""===t.coverStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("is sewn"))})}):(0,S.jsx)(S.Fragment,{}),"carpenter"===i.description?(0,S.jsx)("div",{className:u.optionWrapper,children:(0,S.jsx)("button",{name:"frame",className:""===t.frameStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("frame is done"))})}):(0,S.jsx)(S.Fragment,{}),"upholsterer"===i.description?(0,S.jsx)("div",{className:u.optionWrapper,children:(0,S.jsx)("button",{name:"order",className:""===t.orderStatus?u.btn:"".concat(u.btn," ").concat(u.activeBtn),onClick:function(e){return W(e)},children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("order is done"))})}):(0,S.jsx)(S.Fragment,{}),(0,S.jsx)(N.N,{isOpen:F,close:U,className:u.modalContent,body:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{children:"Edit mode"}),(0,S.jsx)(j.J9,{initialValues:{group:t.group,size:t.size,name:t.name,fabric:t.fabric,description:t.description,base:t.base,deliveryDate:t.deliveryDate,innerPrice:t.innerPrice,number:t.number,dealer:t.dealer,deadline:t.deadline,dateOfOrder:O(t.dateOfOrder),adress:t.adress,additional:t.additional,rest:t.rest,plannedDeadline:O(t.plannedDeadline),orderStatus:t.orderStatus,_id:t._id,images:t.images,fabricStatus:t.fabricStatus,coverStatus:t.coverStatus,frameStatus:t.frameStatus},onSubmit:function(){var e=(0,c.Z)(p().mark((function e(r){var a,t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),(a=new FormData).append("group",r.group),a.append("size",r.size),a.append("name",r.name),a.append("fabric",r.fabric),a.append("description",r.description),a.append("base",r.base),a.append("deliveryDate",r.deliveryDate),a.append("innerPrice",r.innerPrice),a.append("number",r.number),a.append("dealer",r.dealer),a.append("deadline",r.deadline),a.append("dateOfOrder",r.dateOfOrder),a.append("adress",r.adress),a.append("additional",r.additional),a.append("rest",r.rest),a.append("plannedDeadline",r.plannedDeadline),a.append("orderStatus",r.orderStatus),a.append("_id",r._id),r.images.forEach((function(e,n){a.append("images[".concat(n,"]"),r.images[n])})),a.append("fabricStatus",r.fabricStatus),a.append("coverStatus",r.coverStatus),a.append("frameStatus",r.frameStatus),k.forEach((function(e){a.append("file",e)})),e.next=28,x.Z.post("/orders/update",a,{headers:{"Content-Type":"multipart/form-data"}});case 28:t=e.sent,n((0,_.z)(t.data)),R(!1),U(),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(r){return e.apply(this,arguments)}}(),children:(0,S.jsxs)(j.l0,{className:u.formWrapper,children:[(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"group",children:r("group")}),(0,S.jsx)(j.gN,{className:u.field,id:"group",name:"group"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"size",children:r("size")}),(0,S.jsx)(j.gN,{className:u.field,id:"size",name:"size"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"name",children:r("order name")}),(0,S.jsx)(j.gN,{className:u.field,id:"name",name:"name"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"fabric",children:r("fabric")}),(0,S.jsx)(j.gN,{className:u.field,id:"fabric",name:"fabric"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"description",children:r("description")}),(0,S.jsx)(j.gN,{className:u.field,id:"description",name:"description",placeholder:"Description"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"base",children:r("base")}),(0,S.jsx)(j.gN,{className:u.field,id:"base",name:"base"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"innerPrice",children:r("inner price")}),(0,S.jsx)(j.gN,{className:u.field,id:"innerPrice",name:"innerPrice"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"number",children:r("number")}),(0,S.jsx)(j.gN,{className:u.field,id:"number",name:"number"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"adress",children:r("adress")}),(0,S.jsx)(j.gN,{className:u.field,id:"adress",name:"adress"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"additional",children:r("additional")}),(0,S.jsx)(j.gN,{className:u.field,id:"additional",name:"additional"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"rest",children:r("rest")}),(0,S.jsx)(j.gN,{className:u.field,id:"rest",name:"rest"})]}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"plannedDeadline",children:r("planned deadline")}),(0,S.jsx)(j.gN,{className:u.field,id:"plannedDeadline",name:"plannedDeadline"})]}),(0,S.jsx)("div",{className:u.formItem,children:(0,S.jsx)(j.F2,{name:"images",render:function(e){return(0,S.jsx)("div",{className:u.field,children:e.form.values.images.map((function(n,a){return(0,S.jsxs)("div",{className:u.inputItem,children:[(0,S.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(n,"=w200?authuser=0"),alt:n}),(0,S.jsx)("button",{className:u.btn,type:"button",onClick:function(){return e.remove(a)},children:r("delete")})]},a)}))})}})}),(0,S.jsxs)("div",{className:u.formItem,children:[(0,S.jsx)("label",{htmlFor:"files",children:r("add new images")}),(0,S.jsx)(j.gN,{className:u.field,id:"files",name:"files",type:"file",onChange:function(e){C((0,o.Z)(e.target.files))},multiple:!0})]}),(0,S.jsx)("button",{type:"submit",className:"".concat(u.btn," ").concat(u.modalSubmitButton),children:E?(0,S.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(r("submit"))})]})})]})})]})};function y(){var e=(0,a.v9)(s.NH),r=(0,t.UO)().orderId;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(i.B6,{children:[(0,S.jsx)(i.ql,{children:(0,S.jsx)("title",{children:"Order details"})}),(0,S.jsx)("div",{children:e&&"Request in progress..."}),(0,S.jsx)(O,{id:r})]})})}},6502:function(e,r,n){n.d(r,{NH:function(){return i},ST:function(){return t},pi:function(){return a}});var a=function(e){return e.orders.items},t=function(e){return e.orders.activeItem},i=function(e){return e.orders.isLoading}},8363:function(e,r,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++)for(var t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},a.apply(this,arguments)},t=this&&this.__createBinding||(Object.create?function(e,r,n,a){void 0===a&&(a=n);var t=Object.getOwnPropertyDescriptor(r,n);t&&!("get"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,t)}:function(e,r,n,a){void 0===a&&(a=n),e[a]=r[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(r,e,n);return i(r,e),r},c=this&&this.__rest||function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(a=Object.getOwnPropertySymbols(e);t<a.length;t++)r.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(n[a[t]]=e[a[t]])}return n};Object.defineProperty(r,"__esModule",{value:!0});var o=s(n(2791)),d=n(8945),l=(0,n(7074).createAnimation)("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");r.default=function(e){var r=e.loading,n=void 0===r||r,t=e.color,i=void 0===t?"#000000":t,s=e.speedMultiplier,p=void 0===s?1:s,u=e.cssOverride,m=void 0===u?{}:u,f=e.size,b=void 0===f?15:f,h=e.margin,x=void 0===h?2:h,v=c(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),j=a({display:"inherit"},m),g=function(e){return{backgroundColor:i,width:(0,d.cssValue)(b),height:(0,d.cssValue)(b),margin:(0,d.cssValue)(x),borderRadius:"100%",display:"inline-block",animation:"".concat(l," ").concat(.75/p,"s ").concat(.12*e/p,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?o.createElement("span",a({style:j},v),o.createElement("span",{style:g(1)}),o.createElement("span",{style:g(2)}),o.createElement("span",{style:g(3)})):null}},7074:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAnimation=void 0;r.createAnimation=function(e,r,n){var a="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return a;var t=document.createElement("style");document.head.appendChild(t);var i=t.sheet,s="\n    @keyframes ".concat(a," {\n      ").concat(r,"\n    }\n  ");return i&&i.insertRule(s,0),a}},8945:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cssValue=r.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){if("number"===typeof e)return{value:e,unit:"px"};var r,a=(e.match(/^[0-9.]*/)||"").toString();r=a.includes(".")?parseFloat(a):parseInt(a,10);var t=(e.match(/[^0-9]*$/)||"").toString();return n[t]?{value:r,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}r.parseLengthAndUnit=a,r.cssValue=function(e){var r=a(e);return"".concat(r.value).concat(r.unit)}}}]);
//# sourceMappingURL=913.d67dd47c.chunk.js.map