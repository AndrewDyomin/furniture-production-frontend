"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[913],{381:function(e,r,n){n.d(r,{N:function(){return d}});var a=n(3439),t=n(7948),i=n.n(t),s="PopUp_modalCloseButton__m06-1",c="PopUp_menuIcon__5-11v",o=n(184),d=function(e){var r=e.isOpen,n=e.close,t=e.body;return(0,o.jsxs)(i(),{isOpen:r,onRequestClose:n,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,o.jsx)("button",{className:s,type:"button",onClick:n,children:(0,o.jsx)("svg",{className:c,children:(0,o.jsx)("use",{href:"".concat(a.Z,"#icon-close-circle")})})}),t]})}},9913:function(e,r,n){n.r(r),n.d(r,{default:function(){return w}});var a=n(4420),t=n(7689),i=n(3050),s=n(6502),c=n(5861),o=n(3433),d=n(9439),l=n(4687),u=n.n(l),p={backIcon:"OrderInfo_backIcon__N0wiA",orderNumber:"OrderInfo_orderNumber__2q9MF",description:"OrderInfo_description__zLh2V",orderName:"OrderInfo_orderName__-OHBi",orderSize:"OrderInfo_orderSize__BVU05",orderFabric:"OrderInfo_orderFabric__X9Sm5",orderDescription:"OrderInfo_orderDescription__iXIxd",orderDeadline:"OrderInfo_orderDeadline__8ywa6",imagesList:"OrderInfo_imagesList__LA3Fp",orderImage:"OrderInfo_orderImage__2G8nz",btn:"OrderInfo_btn__fLqg+",minBtn:"OrderInfo_minBtn__uJ0Ts",activeBtn:"OrderInfo_activeBtn__zF9Bf",backBtn:"OrderInfo_backBtn__RBKzG",formWrapper:"OrderInfo_formWrapper__+kjz9",formItem:"OrderInfo_formItem__kNYm6",label:"OrderInfo_label__s3BbH",field:"OrderInfo_field__Q3vr4",inputItem:"OrderInfo_inputItem__GG5Bb",optionWrapper:"OrderInfo_optionWrapper__qdKC2"},m=n(2791),f=n(9230),b=n(8363),h=n.n(b),x=n(5294),v=n(5842),j=n(3439),g=n(5705),_=n(4217),N=n(8384),S=n(381),O=n(1087),y=n(184),I=function(e){e.id;var r,n,i=(0,f.$G)().t,l=(0,a.I0)(),b=(0,a.v9)(s.ST),I=(0,a.v9)(_.dy),w=null!==(r=null===(n=(0,t.TH)().state)||void 0===n?void 0:n.from)&&void 0!==r?r:"/orders",F=[{value:"",label:"".concat(i("not ordered"))},{value:"ordered",label:"".concat(i("ordered"))},{value:"received",label:"".concat(i("received"))}],z=b.fabricStatus?{value:"",label:"".concat(i(b.fabricStatus))}:{value:"",label:"".concat(i("not ordered"))};function k(e){var r=new Date(e),n=r.getMonth()+1;return"".concat(r.getDate().toString().padStart(2,"0"),".").concat(n.toString().padStart(2,"0"),".").concat(r.getFullYear())}(0,m.useEffect)((function(){}),[b]);var D=(0,m.useState)(!1),C=(0,d.Z)(D,2),P=C[0],B=C[1],E=(0,m.useState)([]),R=(0,d.Z)(E,2),U=R[0],L=R[1],T=(0,m.useState)(!1),W=(0,d.Z)(T,2),Z=W[0],M=W[1];"ordered"===b.fabricStatus?z={value:"ordered",label:"".concat(i("ordered"))}:"received"===b.fabricStatus&&(z={value:"received",label:"".concat(i("received"))});var V=function(){B(!0),document.body.classList.add("modal-open"),L([])},A=function(){B(!1),document.body.classList.remove("modal-open")},H=function(){var e=(0,c.Z)(u().mark((function e(r){var n,a,t,i,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),n=b.orderStatus,a=b.fabricStatus,t=b.coverStatus,i=b.frameStatus,""===r.value?a="":r.value&&(a=r.value),r.target&&("isSewn"===r.target.name?t="TRUE"!==b.coverStatus?"TRUE":"":"frame"===r.target.name?i="TRUE"!==b.frameStatus?"TRUE":"":"order"===r.target.name&&(n="TRUE"!==b.orderStatus?"TRUE":"")),(s=new FormData).append("group",b.group),s.append("size",b.size),s.append("name",b.name),s.append("fabric",b.fabric),s.append("description",b.description),s.append("base",b.base),s.append("deliveryDate",b.deliveryDate),s.append("innerPrice",b.innerPrice),s.append("number",b.number),s.append("dealer",b.dealer),s.append("deadline",b.deadline),s.append("dateOfOrder",k(b.dateOfOrder)),s.append("adress",b.adress),s.append("additional",b.additional),s.append("rest",b.rest),s.append("plannedDeadline",k(b.plannedDeadline)),s.append("orderStatus",n),s.append("_id",b._id),b.images.forEach((function(e,r){s.append("images[".concat(r,"]"),b.images[r])})),s.append("fabricStatus",a),s.append("coverStatus",t),s.append("frameStatus",i),e.next=32,x.Z.post("/orders/update",s,{headers:{"Content-Type":"multipart/form-data"}});case 32:c=e.sent,l((0,N.z)(c.data)),M(!1);case 35:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:p.wrapper,children:[(0,y.jsx)(O.rU,{to:w,children:(0,y.jsx)("button",{className:"".concat(p.btn," ").concat(p.backBtn),children:(0,y.jsx)("svg",{className:p.backIcon,children:(0,y.jsx)("use",{href:"".concat(j.Z,"#icon-arrow-right"),width:"32px"})})})}),(0,y.jsx)("p",{className:p.orderNumber,children:b.number}),(0,y.jsxs)("div",{className:p.description,children:[(0,y.jsxs)("p",{className:p.orderName,children:[b.group," ",b.name]}),(0,y.jsxs)("p",{className:p.orderSize,children:[i("size"),": ",b.size]}),(0,y.jsxs)("p",{className:p.orderFabric,children:[i("fabric"),": ",b.fabric]}),(0,y.jsxs)("p",{className:p.orderDescription,children:[i("description"),": ",b.description]}),(0,y.jsxs)("p",{className:p.orderDeadline,children:[i("deadline"),": ",k(b.plannedDeadline)]}),(0,y.jsx)("p",{children:b.dealer}),"seamstress"===I.description||"carpenter"===I.description||"upholsterer"===I.description?(0,y.jsx)(y.Fragment,{}):(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:p.orderAdress,children:[i("adress"),": ",b.adress]}),(0,y.jsxs)("p",{className:p.orderRest,children:[i("rest"),": ",b.rest]})]})]}),b.images&&0!==b.images.length?(0,y.jsx)("ul",{className:p.imagesList,children:b.images.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)("img",{className:p.orderImage,src:"https://lh3.googleusercontent.com/d/".concat(e,"=w800?authuser=0"),alt:e})},"".concat(e))}))}):(0,y.jsx)(y.Fragment,{}),"administrator"===I.description?(0,y.jsxs)("div",{className:p.optionWrapper,children:[(0,y.jsx)("button",{className:p.btn,onClick:V,children:i("edit")}),(0,y.jsx)(v.ZP,{className:p.fabricStatusSelector,name:"fabricStatusSelector",id:"fabricStatusSelector",onChange:function(e){return H(e)},options:F,defaultValue:z,placeholder:i("fabric")}),(0,y.jsx)("button",{name:"isSewn",className:""===b.coverStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("is sewn"))}),(0,y.jsx)("button",{name:"frame",className:""===b.frameStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("frame is done"))}),(0,y.jsx)("button",{name:"order",className:""===b.orderStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("order is done"))})]}):(0,y.jsx)(y.Fragment,{}),"manager"===I.description?(0,y.jsxs)("div",{className:p.optionWrapper,children:[(0,y.jsx)("button",{className:p.btn,onClick:V,children:i("edit")}),(0,y.jsx)(v.ZP,{className:p.fabricStatusSelector,name:"fabricStatusSelector",id:"fabricStatusSelector",onChange:function(e){return H(e)},options:F,defaultValue:z,placeholder:i("fabric")}),(0,y.jsx)("button",{name:"order",className:""===b.orderStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("order is done"))})]}):(0,y.jsx)(y.Fragment,{}),"seamstress"===I.description?(0,y.jsx)("div",{className:p.optionWrapper,children:(0,y.jsx)("button",{name:"isSewn",className:""===b.coverStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("is sewn"))})}):(0,y.jsx)(y.Fragment,{}),"carpenter"===I.description?(0,y.jsx)("div",{className:p.optionWrapper,children:(0,y.jsx)("button",{name:"frame",className:""===b.frameStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("frame is done"))})}):(0,y.jsx)(y.Fragment,{}),"upholsterer"===I.description?(0,y.jsx)("div",{className:p.optionWrapper,children:(0,y.jsx)("button",{name:"order",className:""===b.orderStatus?p.btn:"".concat(p.btn," ").concat(p.activeBtn),onClick:function(e){return H(e)},children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("order is done"))})}):(0,y.jsx)(y.Fragment,{}),(0,y.jsx)(S.N,{isOpen:P,close:A,className:p.modalContent,body:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Edit mode"}),(0,y.jsx)(g.J9,{initialValues:{group:b.group,size:b.size,name:b.name,fabric:b.fabric,description:b.description,base:b.base,deliveryDate:b.deliveryDate,innerPrice:b.innerPrice,number:b.number,dealer:b.dealer,deadline:b.deadline,dateOfOrder:k(b.dateOfOrder),adress:b.adress,additional:b.additional,rest:b.rest,plannedDeadline:k(b.plannedDeadline),orderStatus:b.orderStatus,_id:b._id,images:b.images,fabricStatus:b.fabricStatus,coverStatus:b.coverStatus,frameStatus:b.frameStatus},onSubmit:function(){var e=(0,c.Z)(u().mark((function e(r){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),(n=new FormData).append("group",r.group),n.append("size",r.size),n.append("name",r.name),n.append("fabric",r.fabric),n.append("description",r.description),n.append("base",r.base),n.append("deliveryDate",r.deliveryDate),n.append("innerPrice",r.innerPrice),n.append("number",r.number),n.append("dealer",r.dealer),n.append("deadline",r.deadline),n.append("dateOfOrder",r.dateOfOrder),n.append("adress",r.adress),n.append("additional",r.additional),n.append("rest",r.rest),n.append("plannedDeadline",r.plannedDeadline),n.append("orderStatus",r.orderStatus),n.append("_id",r._id),r.images.forEach((function(e,a){n.append("images[".concat(a,"]"),r.images[a])})),n.append("fabricStatus",r.fabricStatus),n.append("coverStatus",r.coverStatus),n.append("frameStatus",r.frameStatus),U.forEach((function(e){n.append("file",e)})),e.next=28,x.Z.post("/orders/update",n,{headers:{"Content-Type":"multipart/form-data"}});case 28:a=e.sent,l((0,N.z)(a.data)),M(!1),A(),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(r){return e.apply(this,arguments)}}(),children:(0,y.jsxs)(g.l0,{className:p.formWrapper,children:[(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"group",children:i("group")}),(0,y.jsx)(g.gN,{className:p.field,id:"group",name:"group"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"size",children:i("size")}),(0,y.jsx)(g.gN,{className:p.field,id:"size",name:"size"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"name",children:i("order name")}),(0,y.jsx)(g.gN,{className:p.field,id:"name",name:"name"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"fabric",children:i("fabric")}),(0,y.jsx)(g.gN,{className:p.field,id:"fabric",name:"fabric"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"description",children:i("description")}),(0,y.jsx)(g.gN,{className:p.field,id:"description",name:"description",placeholder:"Description"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"base",children:i("base")}),(0,y.jsx)(g.gN,{className:p.field,id:"base",name:"base"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"innerPrice",children:i("inner price")}),(0,y.jsx)(g.gN,{className:p.field,id:"innerPrice",name:"innerPrice"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"number",children:i("number")}),(0,y.jsx)(g.gN,{className:p.field,id:"number",name:"number"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"adress",children:i("adress")}),(0,y.jsx)(g.gN,{className:p.field,id:"adress",name:"adress"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"additional",children:i("additional")}),(0,y.jsx)(g.gN,{className:p.field,id:"additional",name:"additional"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"rest",children:i("rest")}),(0,y.jsx)(g.gN,{className:p.field,id:"rest",name:"rest"})]}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"plannedDeadline",children:i("planned deadline")}),(0,y.jsx)(g.gN,{className:p.field,id:"plannedDeadline",name:"plannedDeadline"})]}),(0,y.jsx)("div",{className:p.formItem,children:(0,y.jsx)(g.F2,{name:"images",render:function(e){return(0,y.jsx)("div",{className:p.field,children:e.form.values.images.map((function(r,n){return(0,y.jsxs)("div",{className:p.inputItem,children:[(0,y.jsx)("img",{src:"https://lh3.googleusercontent.com/d/".concat(r,"=w200?authuser=0"),alt:r}),(0,y.jsx)("button",{className:p.btn,type:"button",onClick:function(){return e.remove(n)},children:i("delete")})]},n)}))})}})}),(0,y.jsxs)("div",{className:p.formItem,children:[(0,y.jsx)("label",{htmlFor:"files",children:i("add new images")}),(0,y.jsx)(g.gN,{className:p.field,id:"files",name:"files",type:"file",onChange:function(e){L((0,o.Z)(e.target.files))},multiple:!0})]}),(0,y.jsx)("button",{type:"submit",className:"".concat(p.btn," ").concat(p.modalSubmitButton),children:Z?(0,y.jsx)(h(),{color:"#c8c19b",size:"10px"}):"".concat(i("submit"))})]})})]})})]})};function w(){var e=(0,a.v9)(s.NH),r=(0,t.UO)().orderId;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(i.B6,{children:[(0,y.jsx)(i.ql,{children:(0,y.jsx)("title",{children:"Order details"})}),(0,y.jsx)("div",{children:e&&"Request in progress..."}),(0,y.jsx)(I,{id:r})]})})}},6502:function(e,r,n){n.d(r,{NH:function(){return i},ST:function(){return t},pi:function(){return a}});var a=function(e){return e.orders.items},t=function(e){return e.orders.activeItem},i=function(e){return e.orders.isLoading}},8363:function(e,r,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++)for(var t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},a.apply(this,arguments)},t=this&&this.__createBinding||(Object.create?function(e,r,n,a){void 0===a&&(a=n);var t=Object.getOwnPropertyDescriptor(r,n);t&&!("get"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,t)}:function(e,r,n,a){void 0===a&&(a=n),e[a]=r[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(r,e,n);return i(r,e),r},c=this&&this.__rest||function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(a=Object.getOwnPropertySymbols(e);t<a.length;t++)r.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(e,a[t])&&(n[a[t]]=e[a[t]])}return n};Object.defineProperty(r,"__esModule",{value:!0});var o=s(n(2791)),d=n(8945),l=(0,n(7074).createAnimation)("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");r.default=function(e){var r=e.loading,n=void 0===r||r,t=e.color,i=void 0===t?"#000000":t,s=e.speedMultiplier,u=void 0===s?1:s,p=e.cssOverride,m=void 0===p?{}:p,f=e.size,b=void 0===f?15:f,h=e.margin,x=void 0===h?2:h,v=c(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),j=a({display:"inherit"},m),g=function(e){return{backgroundColor:i,width:(0,d.cssValue)(b),height:(0,d.cssValue)(b),margin:(0,d.cssValue)(x),borderRadius:"100%",display:"inline-block",animation:"".concat(l," ").concat(.75/u,"s ").concat(.12*e/u,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?o.createElement("span",a({style:j},v),o.createElement("span",{style:g(1)}),o.createElement("span",{style:g(2)}),o.createElement("span",{style:g(3)})):null}},7074:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAnimation=void 0;r.createAnimation=function(e,r,n){var a="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return a;var t=document.createElement("style");document.head.appendChild(t);var i=t.sheet,s="\n    @keyframes ".concat(a," {\n      ").concat(r,"\n    }\n  ");return i&&i.insertRule(s,0),a}},8945:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cssValue=r.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){if("number"===typeof e)return{value:e,unit:"px"};var r,a=(e.match(/^[0-9.]*/)||"").toString();r=a.includes(".")?parseFloat(a):parseInt(a,10);var t=(e.match(/[^0-9]*$/)||"").toString();return n[t]?{value:r,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}r.parseLengthAndUnit=a,r.cssValue=function(e){var r=a(e);return"".concat(r.value).concat(r.unit)}}}]);
//# sourceMappingURL=913.920195ac.chunk.js.map