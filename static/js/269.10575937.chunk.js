"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[269],{381:function(e,n,t){t.d(n,{N:function(){return c}});var r=t(3439),i=t(7948),a=t.n(i),s="PopUp_modalCloseButton__m06-1",l="PopUp_menuIcon__5-11v",o=t(184),c=function(e){var n=e.isOpen,t=e.close,i=e.body;return(0,o.jsxs)(a(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,o.jsx)("button",{className:s,type:"button",onClick:t,children:(0,o.jsx)("svg",{className:l,children:(0,o.jsx)("use",{href:"".concat(r.Z,"#icon-close-circle")})})}),i]})}},4269:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var r=t(3050),i=t(5861),a=t(3433),s=t(9439),l=t(4687),o=t.n(l),c=t(5705),d=t(5536),u=t(5294),m=t(3439),p={wrapper:"CollectionEditor_wrapper__BODBf",title:"CollectionEditor_title__K5kie",titleArea:"CollectionEditor_titleArea__XDnvo",openBtn:"CollectionEditor_openBtn__2KO2d",openBtnIcon:"CollectionEditor_openBtnIcon__JoypF",active:"CollectionEditor_active__2uyO7",formWrapper:"CollectionEditor_formWrapper__GYzoj",formItem:"CollectionEditor_formItem__qqpkN",label:"CollectionEditor_label__MQZp3",field:"CollectionEditor_field__XQu45",quantityField:"CollectionEditor_quantityField__u3ybJ",inputArray:"CollectionEditor_inputArray__Ospp1",selectComponent:"CollectionEditor_selectComponent__CvOZ7",minBtn:"CollectionEditor_minBtn__6g+Kk",btn:"CollectionEditor_btn__PRioK",error:"CollectionEditor_error__T-eMv"},h=t(2791),f=t(5842),_=t(4420),x=t(9230),j=t(184);u.Z.defaults.baseURL="https://furniture-production.onrender.com/";var v=[{value:"sofa",label:"Sofa"},{value:"bed",label:"Bed"},{value:"banquette",label:"Banquette"},{value:"pouf",label:"Pouf"}],b=function(){var e=(0,_.v9)(d._),n=(0,x.$G)().t,t=[];try{e.array.forEach((function(e){t.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}))}catch(E){}var r=(0,h.useState)({value:"sofa",label:"Sofa"}),l=(0,s.Z)(r,2),b=l[0],N=l[1],y=(0,h.useState)(""),g=(0,s.Z)(y,2),C=g[0],w=g[1],Z=(0,h.useState)([]),B=(0,s.Z)(Z,2),I=B[0],P=B[1],F=(0,h.useState)(!1),A=(0,s.Z)(F,2),L=A[0],S=A[1];return(0,j.jsxs)("div",{className:p.wrapper,children:[(0,j.jsxs)("div",{className:p.titleArea,children:[(0,j.jsx)("p",{className:p.title,children:"Collection Editor"}),(0,j.jsx)("button",{className:p.openBtn,id:"isOpen",onClick:function(e){S(!L),e.target.classList=L?p.notActive:p.active},children:(0,j.jsx)("svg",{children:(0,j.jsx)("use",{className:p.openBtnIcon,href:"".concat(m.Z,"#icon-arrow-down"),width:"32px"})})})]}),L?(0,j.jsx)(c.J9,{initialValues:{group:b.value,name:"",dimensions:{width:"",height:"",depth:""},description:"",basePrice:"",images:[""],components:[""],quantity:[""]},onSubmit:function(){var e=(0,i.Z)(o().mark((function e(n,t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.resetForm,e.prev=1,(i=new FormData).append("group",b.value),i.append("name",n.name),i.append("dimensions[width]",n.dimensions.width),i.append("dimensions[height]",n.dimensions.height),i.append("dimensions[depth]",n.dimensions.depth),i.append("description",n.description),i.append("basePrice",n.basePrice),I.forEach((function(e,t){var r=I[t],a=n.quantity[t];i.append("components[".concat(t,"][id]"),r),i.append("components[".concat(t,"][quantity]"),a)})),C.forEach((function(e){i.append("file",e)})),e.next=14,u.Z.post("/collections/add",i,{headers:{"Content-Type":"multipart/form-data"}});case 14:P([]),r(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n,t){return e.apply(this,arguments)}}(),children:(0,j.jsxs)(c.l0,{className:p.formWrapper,children:[(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"group",children:"Group"}),(0,j.jsx)(c.gN,{component:f.ZP,name:"group",id:"group",onChange:function(e){return N(e)},options:v,defaultValue:b.value})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"name",children:"Name"}),(0,j.jsx)(c.gN,{className:p.field,id:"name",name:"name",placeholder:"Faynee mini"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"dimensions.width",children:"Width"}),(0,j.jsx)(c.gN,{className:p.field,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"dimensions.depth",children:"Depth"}),(0,j.jsx)(c.gN,{className:p.field,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"dimensions.height",children:"Height"}),(0,j.jsx)(c.gN,{className:p.field,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"description",children:"Description"}),(0,j.jsx)(c.gN,{className:p.field,id:"description",name:"description",placeholder:"Description"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"basePrice",children:"Base price"}),(0,j.jsx)(c.gN,{className:p.field,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,j.jsxs)("div",{className:p.formItem,children:[(0,j.jsx)("label",{htmlFor:"files",children:n("add new images")}),(0,j.jsx)(c.gN,{className:p.field,id:"files",name:"files",type:"file",onChange:function(e){w((0,a.Z)(e.target.files))},multiple:!0})]}),(0,j.jsx)("div",{className:p.formItem,children:(0,j.jsx)(c.F2,{name:"components",render:function(e){return(0,j.jsx)("div",{children:e.form.values.components.map((function(n,r){return(0,j.jsxs)("div",{className:p.inputArray,children:[(0,j.jsx)(c.gN,{component:f.ZP,className:p.selectComponent,name:"components.".concat(r),onChange:function(e){return P((function(n){var t=(0,a.Z)(n);return t[r]=e.value,t}))},options:t}),(0,j.jsx)(c.gN,{className:"".concat(p.field," ").concat(p.quantityField),name:"quantity.".concat(r),placeholder:"Quantity"}),e.form.values.components.length>1?(0,j.jsx)("button",{className:p.minBtn,type:"button",onClick:function(){e.remove(r),e.form.values.quantity.splice(r,1)},children:"-"}):(0,j.jsx)(j.Fragment,{}),r===e.form.values.components.length-1&&(0,j.jsx)("button",{className:p.minBtn,type:"button",onClick:function(){e.push(""),e.form.values.quantity.push("")},children:"+"})]},r)}))})}})}),(0,j.jsx)("button",{type:"submit",className:p.btn,children:"Submit"})]})}):(0,j.jsx)(j.Fragment,{})]})},N=t(1413),y=t(4253),g=t(381),C={wrapper:"ComponentList_wrapper__giwUD",title:"ComponentList_title__EfwIm",titleArea:"ComponentList_titleArea__mSre9",openBtn:"ComponentList_openBtn__JXZrR",openBtnIcon:"ComponentList_openBtnIcon__81Ht3",active:"ComponentList_active__b-xnh",list:"ComponentList_list__nKaDk",item:"ComponentList_item__rBpvr",price:"ComponentList_price__b8Be0",buttons:"ComponentList_buttons__MMPMv",editBtn:"ComponentList_editBtn__8we70",formItem:"ComponentList_formItem__tEUVD",field:"ComponentList_field__+BOaR",inputArray:"ComponentList_inputArray__tvYgw",btn:"ComponentList_btn__9-6O+",delBtn:"ComponentList_delBtn__uRtU-"},w=[{value:"USD",label:"USD"},{value:"\u0433\u0440\u043d",label:"\u0433\u0440\u043d"}],Z=[{value:"\u0448\u0442",label:"\u0448\u0442"},{value:"\u043c",label:"\u043c"},{value:"\u043a\u0433",label:"\u043a\u0433"}],B={},I=function(){var e=(0,_.v9)(d._),n=(0,_.I0)(),t=(0,h.useState)(!1),r=(0,s.Z)(t,2),a=r[0],l=r[1],u=(0,h.useState)(!1),p=(0,s.Z)(u,2),x=p[0],v=p[1],b=(0,h.useState)({value:"\u0433\u0440\u043d",label:"\u0433\u0440\u043d"}),I=(0,s.Z)(b,2),P=I[0],F=I[1],A=(0,h.useState)({value:"\u0448\u0442.",label:"\u0448\u0442"}),L=(0,s.Z)(A,2),S=L[0],E=L[1],k=(0,h.useState)(!1),M=(0,s.Z)(k,2),q=M[0],D=M[1],O=(0,h.useState)(""),U=(0,s.Z)(O,2),W=U[0],V=U[1],K=(0,h.useState)([]),R=(0,s.Z)(K,2),H=R[0],J=R[1];(0,h.useEffect)((function(){e&&e.array&&0!==e.array.length?J(e.array.filter((function(e){return e.name.toLowerCase().includes(W.toLowerCase())}))):J([])}),[e,W]);var T=function(){D(!1),document.body.classList.remove("modal-open")},Y=function(){v(!1),document.body.classList.remove("modal-open")},G=function(){try{return H.map((function(e){return(0,j.jsxs)("li",{className:C.item,children:[(0,j.jsx)("p",{children:e.name}),(0,j.jsx)("div",{children:(0,j.jsx)("p",{children:e.description})}),(0,j.jsxs)("div",{className:C.price,children:[(0,j.jsxs)("p",{children:["Price: ",e.price]}),(0,j.jsx)("p",{children:e.currency}),(0,j.jsxs)("p",{children:["/",e.units]})]}),(0,j.jsxs)("div",{className:C.buttons,children:[(0,j.jsx)("button",{className:C.editBtn,onClick:function(){return function(e){B=e,v(!0),document.body.classList.add("modal-open")}(e)},children:"Edit"}),(0,j.jsx)("button",{className:C.editBtn,onClick:function(){return function(e){B=e,D(!0),document.body.classList.add("modal-open")}(e)},children:"Delete"})]})]},e._id)}))}catch(e){return(0,j.jsx)(j.Fragment,{})}};return(0,j.jsxs)("div",{className:C.wrapper,children:[(0,j.jsxs)("div",{className:C.titleArea,children:[(0,j.jsx)("p",{className:C.title,children:"Component list"}),(0,j.jsx)("button",{className:C.openBtn,id:"isOpen",onClick:function(e){l(!a),e.target.classList=a?C.notActive:C.active},children:(0,j.jsx)("svg",{children:(0,j.jsx)("use",{className:C.openBtnIcon,href:"".concat(m.Z,"#icon-arrow-down"),width:"32px"})})})]}),a?(0,j.jsxs)("div",{children:[(0,j.jsx)("input",{className:C.item,onChange:function(e){return V(e.target.value)},placeholder:"Filter"}),(0,j.jsx)("ul",{className:C.list,children:(0,j.jsx)(G,{})}),(0,j.jsx)("p",{className:C.title,children:"Add new component"}),(0,j.jsx)(c.J9,{initialValues:{name:"",description:"",price:"",currency:P.value,units:S.value},onSubmit:function(){var e=(0,i.Z)(o().mark((function e(t,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.resetForm;try{a=(0,N.Z)((0,N.Z)({},t),{},{currency:P.value,units:S.value}),n((0,y.Tk)(a)),i()}catch(s){console.log(s)}case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:(0,j.jsxs)(c.l0,{className:C.formWrapper,children:[(0,j.jsx)("div",{className:C.formItem,children:(0,j.jsx)(c.gN,{className:C.field,id:"name",name:"name",placeholder:"Name"})}),(0,j.jsx)("div",{className:C.formItem,children:(0,j.jsx)(c.gN,{className:C.field,id:"description",name:"description",placeholder:"Description"})}),(0,j.jsx)("div",{className:C.formItem,children:(0,j.jsx)(c.gN,{className:C.field,id:"price",name:"price",placeholder:"Price"})}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"currency",children:"Currency"}),(0,j.jsx)(c.gN,{component:f.ZP,name:"currency",id:"currency",onChange:function(e){return F(e)},options:w,defaultValue:P.value})]}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"units",children:"Units"}),(0,j.jsx)(c.gN,{component:f.ZP,name:"units",id:"units",onChange:function(e){return E(e)},options:Z,defaultValue:S.value})]}),(0,j.jsx)("button",{type:"submit",className:C.btn,children:"Add component"})]})}),(0,j.jsx)(g.N,{isOpen:x,close:Y,body:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"Edit mode"}),(0,j.jsx)(c.J9,{initialValues:{name:B.name,description:B.description,price:B.price,currency:B.currency,units:B.units},onSubmit:function(){var e=(0,i.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=B._id,n((0,y.KL)((0,N.Z)({id:r},t))),Y()}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:(0,j.jsxs)(c.l0,{className:C.formWrapper,children:[(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"name",children:"Name"}),(0,j.jsx)(c.gN,{className:C.field,id:"name",name:"name"})]}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"description",children:"Description"}),(0,j.jsx)(c.gN,{className:C.field,id:"description",name:"description"})]}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"price",children:"Price"}),(0,j.jsx)(c.gN,{className:C.field,id:"price",name:"price"})]}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"currency",children:"Currency"}),(0,j.jsx)(c.gN,{className:C.field,id:"currency",name:"currency"})]}),(0,j.jsxs)("div",{className:C.formItem,children:[(0,j.jsx)("label",{htmlFor:"units",children:"Units"}),(0,j.jsx)(c.gN,{className:C.field,id:"units",name:"units"})]}),(0,j.jsx)("button",{type:"submit",className:C.btn,children:"Submit"})]})})]})}),(0,j.jsx)(g.N,{isOpen:q,close:T,body:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("p",{children:"Are you sure???"}),(0,j.jsxs)("div",{className:C.delModalWrapper,children:[(0,j.jsx)("button",{onClick:T,className:C.btn,children:"Cancel"}),(0,j.jsx)("button",{onClick:function(){n((0,y.v7)(B._id)),T()},className:"".concat(C.btn," ").concat(C.delBtn),children:"Delete"})]})]})})]}):(0,j.jsx)(j.Fragment,{})]})},P={wrapper:"MaterialsPlanner_wrapper__7ermt",title:"MaterialsPlanner_title__v30CY",titleArea:"MaterialsPlanner_titleArea__mhSwo",openBtn:"MaterialsPlanner_openBtn__MpFm6",openBtnIcon:"MaterialsPlanner_openBtnIcon__Ph7bU",active:"MaterialsPlanner_active__cAcZz",formWrapper:"MaterialsPlanner_formWrapper__r8ilU",formItem:"MaterialsPlanner_formItem__aGkIo",label:"MaterialsPlanner_label__n5-PK",field:"MaterialsPlanner_field__UdYBt",quantityField:"MaterialsPlanner_quantityField__ceYjO",inputArray:"MaterialsPlanner_inputArray__05+OX",selectComponent:"MaterialsPlanner_selectComponent__VBfSc",minBtn:"MaterialsPlanner_minBtn__2T8p+",btn:"MaterialsPlanner_btn__L3waN",error:"MaterialsPlanner_error__NWvNu"},F=t(6502),A=t(9654);u.Z.defaults.baseURL="https://furniture-production.onrender.com/";var L=[{value:"7",label:"7 days"},{value:"14",label:"14 days"},{value:"21",label:"21 days"}],S=function(){var e=(0,h.useState)({value:"14",label:"14 days"}),n=(0,s.Z)(e,2),t=n[0],r=n[1],i=(0,h.useState)(!1),a=(0,s.Z)(i,2),l=a[0],o=a[1],c=(0,h.useState)([]),u=(0,s.Z)(c,2),p=u[0],x=u[1],v=(0,h.useState)([]),b=(0,s.Z)(v,2),y=b[0],g=b[1],C=(0,h.useState)([]),w=(0,s.Z)(C,2),Z=w[0],B=w[1],I=(0,_.v9)(d._),S=(0,_.v9)(F.pi),E=(0,_.v9)(A.q);(0,h.useEffect)((function(){I&&I.array&&0!==I.array.length?x(I.array):x([]),S&&S.allOrdersArray&&0!==S.allOrdersArray.length?g(S.allOrdersArray):g([]),E&&E.array&&0!==E.array.length?B(E.array):B([])}),[I,S,E]);var k=new Date,M=new Date(k);M.setDate(k.getDate()+Number(t.value));var q=[],D=function(){return y.filter((function(e){return Date.parse(e.plannedDeadline)<=Date.parse(M)}))};return(0,j.jsxs)("div",{className:P.wrapper,children:[(0,j.jsxs)("div",{className:P.titleArea,children:[(0,j.jsx)("p",{className:P.title,children:"Materials planner"}),(0,j.jsx)("button",{className:P.openBtn,id:"isOpen",onClick:function(e){o(!l),e.target.classList=l?P.notActive:P.active},children:(0,j.jsx)("svg",{children:(0,j.jsx)("use",{className:P.openBtnIcon,href:"".concat(m.Z,"#icon-arrow-down"),width:"32px"})})})]},"titleArea"),l?(0,j.jsxs)("div",{className:P.formWrapper,children:[(0,j.jsx)(f.ZP,{name:"term",onChange:function(e){return r(e)},defaultValue:t,options:L}),(0,j.jsx)("p",{children:"Orders:"}),(0,j.jsx)("ul",{children:y&&0!==y.length&&D().map((function(e){return(0,j.jsx)("li",{children:(0,j.jsxs)("p",{children:[e.number,", ",e.name]})},e._id)}))},"orders"),(0,j.jsx)("p",{children:"Components:"}),(0,j.jsx)("ul",{children:y&&0!==y.length&&function(){var e=[];return D().forEach((function(n){var t=Z.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}));t?t.components.forEach((function(t){var r=p.find((function(e){return e._id===t.id}));if(r){var i=(0,N.Z)((0,N.Z)({},r),{},{quantity:t.quantity});"6602e794832f5a9bf2a2850a"!==i._id?e.push(i):"received"!==n.fabricStatus&&"ordered"!==n.fabricStatus&&(i.name=n.fabric,e.push(i))}})):q.push(n)})),e}().map((function(e){return(0,j.jsx)("li",{children:(0,j.jsxs)("p",{children:[e.name,": ",e.quantity," ",e.units]})},"".concat(e._id).concat(e.name,"-").concat(e.quantity))}))},"components"),(0,j.jsx)("p",{children:"Unsorted:"}),(0,j.jsx)("ul",{children:q&&0!==q.length&&q.map((function(e){return(0,j.jsx)("li",{children:(0,j.jsx)("p",{children:e.name})},"".concat(e.number,"-").concat(e.fabric))}))},"unsorted")]},"listArea"):(0,j.jsx)(j.Fragment,{})]})},E=t(8384),k=t(5612),M=t(5218);function q(){var e=(0,_.I0)();return(0,h.useEffect)((function(){e((0,y.sd)()),M.ZP.success("All components fetched"),e((0,E.h_)()),M.ZP.success("All orders fetched"),e((0,k.aP)()),M.ZP.success("All products fetched")}),[e]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(r.B6,{children:[(0,j.jsx)(r.ql,{children:(0,j.jsx)("title",{children:"My room"})}),(0,j.jsx)("h1",{children:"It's your private room"}),(0,j.jsx)(b,{}),(0,j.jsx)(I,{}),(0,j.jsx)(S,{})]})})}},5536:function(e,n,t){t.d(n,{_:function(){return r}});var r=function(e){return e.components.items}},6502:function(e,n,t){t.d(n,{NH:function(){return a},ST:function(){return i},pi:function(){return r}});var r=function(e){return e.orders.items},i=function(e){return e.orders.activeItem},a=function(e){return e.orders.isLoading}},9654:function(e,n,t){t.d(n,{K:function(){return i},q:function(){return r}});var r=function(e){return e.products.items},i=function(e){return e.products.activeItem}}}]);
//# sourceMappingURL=269.10575937.chunk.js.map