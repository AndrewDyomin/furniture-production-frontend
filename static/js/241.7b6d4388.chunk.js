"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[241],{381:function(e,n,t){t.d(n,{N:function(){return l}});var i=t(3439),s=t(7948),a=t.n(s),c="PopUp_modalCloseButton__m06-1",o="PopUp_menuIcon__5-11v",r=t(184),l=function(e){var n=e.isOpen,t=e.close,s=e.body;return(0,r.jsxs)(a(),{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,r.jsx)("button",{className:c,type:"button",onClick:t,children:(0,r.jsx)("svg",{className:o,children:(0,r.jsx)("use",{href:"".concat(i.Z,"#icon-close-circle")})})}),s]})}},4629:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var i=t(9439),s=t(7689),a=t(4420),c=(t(8040),t(197)),o=t(9654),r={section:"ProductDetails_section__nPSK1",title:"ProductDetails_title__Qkudl",image:"ProductDetails_image__LbA4l",baseInfoTitle:"ProductDetails_baseInfoTitle__0a0ed",price:"ProductDetails_price__DFFDm",adminBlock:"ProductDetails_adminBlock__bY86e"},l=t(2791),d=t(9230),u=t(5842),m=t(7834),p=t(1413),h=t(5861),f=t(3433),x=t(4687),b=t.n(x),j=t(5612),_={delModalWrapper:"AdminMenu_delModalWrapper__Gfzrs",formWrapper:"AdminMenu_formWrapper__ybfPv",formItem:"AdminMenu_formItem__KchmS",label:"AdminMenu_label__UnqU9",field:"AdminMenu_field__bFN4e",quantityField:"AdminMenu_quantityField__Kt6mI",inputArray:"AdminMenu_inputArray__+FLIB",selectComponent:"AdminMenu_selectComponent__6Gq8o",minBtn:"AdminMenu_minBtn__BCYDU",btn:"AdminMenu_btn__7lnqu",delBtn:"AdminMenu_delBtn__LcZEy",modalSubmitButton:"AdminMenu_modalSubmitButton__lp4X-"},v=t(381),N=t(5705),g=t(5294),y=t(5536),I=t(184);g.Z.defaults.baseURL="https://furniture-production.onrender.com/";var C=function(e){var n=(0,a.I0)(),t=(0,d.$G)().t,s=(0,a.v9)(o.K),c=(0,a.v9)(y._).array,r=s.components.length>0?s.components:[""],m=[],x=[],g=[];try{c.forEach((function(e){m.push({value:e._id,label:"".concat(e.name,"/").concat(e.units)})}))}catch(O){}try{r.forEach((function(e){x.push(e.id),g.push(e.quantity)}))}catch($){}var C=(0,l.useState)(!1),F=(0,i.Z)(C,2),k=F[0],P=F[1],Z=(0,l.useState)([].concat(x)),M=(0,i.Z)(Z,2),A=M[0],B=M[1],q=(0,l.useState)([].concat(g)),w=(0,i.Z)(q,2),S=w[0],D=w[1],W=(0,l.useState)(!1),L=(0,i.Z)(W,2),T=L[0],E=L[1];(0,l.useEffect)((function(){B([].concat(x)),D([].concat(g))}),[k]);var U=function(){P(!1),document.body.classList.remove("modal-open")},K=function(){E(!1),document.body.classList.remove("modal-open")},G=function(e){try{return m.find((function(n){return n.value===e})).label}catch(n){return"Select..."}};return(0,I.jsxs)("div",{children:[(0,I.jsx)("button",{onClick:function(){E(!0),document.body.classList.add("modal-open")},className:_.btn,children:t("delete")}),(0,I.jsx)("button",{className:_.btn,onClick:function(){P(!0),document.body.classList.add("modal-open")},children:t("edit")}),(0,I.jsx)(v.N,{isOpen:k,close:U,className:_.modalContent,body:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("p",{children:t("edit mode")}),(0,I.jsx)(N.J9,{initialValues:{name:s.name,dimensions:{width:s.dimensions.width,height:s.dimensions.height,depth:s.dimensions.depth},description:s.description,basePrice:s.basePrice,components:A,quantity:S},onSubmit:function(){var t=(0,h.Z)(b().mark((function t(i){var s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{s=[],A.forEach((function(e,n){s.push({});var t=e,i=S[n];s[n].id=t,s[n].quantity=i})),i.components=[].concat(s),delete i.quantity,n((0,j.nM)((0,p.Z)((0,p.Z)({},e),i))),U()}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:(0,I.jsxs)(N.l0,{className:_.formWrapper,children:[(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"name",children:t("unit name")}),(0,I.jsx)(N.gN,{className:_.field,id:"name",name:"name"})]}),(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"dimensions.width",children:t("width")}),(0,I.jsx)(N.gN,{className:_.field,id:"dimensions.width",name:"dimensions.width",placeholder:"Width"})]}),(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"dimensions.depth",children:t("depth")}),(0,I.jsx)(N.gN,{className:_.field,id:"dimensions.depth",name:"dimensions.depth",placeholder:"Depth"})]}),(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"dimensions.height",children:t("height")}),(0,I.jsx)(N.gN,{className:_.field,id:"dimensions.height",name:"dimensions.height",placeholder:"Height"})]}),(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"description",children:t("description")}),(0,I.jsx)(N.gN,{className:_.field,id:"description",name:"description",placeholder:"Description"})]}),(0,I.jsxs)("div",{className:_.formItem,children:[(0,I.jsx)("label",{htmlFor:"basePrice",children:t("base price")}),(0,I.jsx)(N.gN,{className:_.field,id:"basePrice",name:"basePrice",placeholder:"12500"})]}),(0,I.jsx)("div",{className:_.formItem,children:(0,I.jsx)(N.F2,{name:"components",render:function(e){return(0,I.jsx)("div",{children:A.map((function(e,n){return(0,I.jsxs)("div",{className:_.inputArray,children:[(0,I.jsx)(N.gN,{component:u.ZP,className:_.selectComponent,name:"components.".concat(n),onChange:function(e){return B((function(t){var i=(0,f.Z)(t);return i[n]=e.value,i}))},options:m,placeholder:G(e)}),(0,I.jsx)(N.gN,{className:"".concat(_.field," ").concat(_.quantityField),name:"quantity.".concat(n),value:S[n]||"",onChange:function(e){return D((function(t){var i=(0,f.Z)(t);return i[n]=e.target.value,i}))},placeholder:"Quantity"}),A.length>1?(0,I.jsx)("button",{className:_.minBtn,type:"button",onClick:function(){return function(e){B((function(n){return n.filter((function(n){return n!==e}))})),D((function(n){return n.filter((function(n,t){return A[t]!==e}))}))}(e)},children:"-"}):(0,I.jsx)(I.Fragment,{}),n===A.length-1&&(0,I.jsx)("button",{className:_.minBtn,type:"button",onClick:function(){return B((function(e){return[].concat((0,f.Z)(e),[""])})),void D((function(e){return[].concat((0,f.Z)(e),[""])}))},children:"+"})]},e)}))})}})}),(0,I.jsx)("button",{type:"submit",className:"".concat(_.btn," ").concat(_.modalSubmitButton),children:t("submit")})]})})]})}),(0,I.jsx)(v.N,{isOpen:T,close:K,body:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("p",{children:[t("are you sure"),"???"]}),(0,I.jsxs)("div",{className:_.delModalWrapper,children:[(0,I.jsx)("button",{onClick:K,className:_.btn,children:t("cancel")}),(0,I.jsx)("button",{onClick:function(){n((0,j.Ir)(e))},className:"".concat(_.btn," ").concat(_.delBtn),children:t("delete")})]})]})})]})},F=function(e){var n=e.components,t=(0,a.v9)(y._).array,s=(0,d.$G)().t,c=(0,l.useState)(0),o=(0,i.Z)(c,2),r=o[0],u=o[1],m=(0,l.useState)(0),p=(0,i.Z)(m,2),h=p[0],f=p[1],x=(0,l.useCallback)((function(e){return t.find((function(n){return n._id===e}))}),[t]);(0,l.useEffect)((function(){var e=0,t=0;n.forEach((function(n){var i=x(n.id).price*n.quantity;"\u0433\u0440\u043d"===x(n.id).currency?e+=i:t+=i})),u(Math.round(e)),f(Math.round(t))}),[n,x]);try{return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("p",{children:[s("product components"),":"]}),(0,I.jsx)("ul",{children:n.map((function(e){return(0,I.jsx)("li",{children:(0,I.jsx)("p",{children:"".concat(x(e.id).name," - ").concat(e.quantity," ").concat(x(e.id).units)})},e.id)}))}),(0,I.jsx)("p",{children:"".concat(s("total"),": ").concat(r,"\u0433\u0440\u043d, $").concat(h)})]})}catch(b){return(0,I.jsx)("p",{children:"not found"})}},k=[{value:"140",label:"140 x 200(190)"},{value:"160",label:"160 x 200(190)"},{value:"180",label:"180 x 200(190)"},{value:"200",label:"200 x 200(190)"}],P=function(){var e=(0,m.a)(),n=e.user,t=e.isLoggedIn,p=(0,l.useState)({value:"160",label:"160 x 200(190)"}),h=(0,i.Z)(p,2),f=h[0],x=h[1],b=(0,s.UO)().id,j=(0,a.v9)(o.K),_=(0,d.$G)().t,v=j.dimensions.width-160,N=j.basePrice;return(0,I.jsxs)("div",{className:r.section,children:[(0,I.jsx)("h1",{className:r.title,children:j.name}),(0,I.jsx)(c.lr,{showIndicators:!1,children:j.images.map((function(e){return(0,I.jsx)("div",{children:(0,I.jsx)("img",{src:e,alt:j.name})},e)}))}),"bed"===j.group?(0,I.jsxs)("div",{className:r.baseInfoWrapper,children:[(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("sleeping area"),":"]}),(0,I.jsx)(u.ZP,{defaultValue:f,onChange:x,options:k}),(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("overall size"),":"]}),(0,I.jsxs)("p",{children:[Number(f.value)+Number(v)," x ",j.dimensions.depth,"(",j.dimensions.depth-10,")"]}),(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("price"),":"]}),(0,I.jsxs)("p",{className:r.price,children:[N," \u20b4"]})]}):(0,I.jsxs)("div",{className:r.baseInfoWrapper,children:[(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("overall size"),":"]}),(0,I.jsxs)("p",{children:[j.dimensions.depth," x ",j.dimensions.width," x ",j.dimensions.height]}),(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("price"),":"]}),(0,I.jsxs)("p",{className:r.price,children:[j.basePrice," \u20b4"]})]}),(0,I.jsxs)("p",{className:r.baseInfoTitle,children:[_("description"),":"]}),(0,I.jsx)("p",{children:j.description}),t?"administrator"===n.description&&(0,I.jsxs)("div",{className:r.adminBlock,children:[(0,I.jsx)(F,{components:j.components}),(0,I.jsx)(C,{id:b})]}):(0,I.jsx)(I.Fragment,{})]})};function Z(){return(0,I.jsx)(P,{})}},5536:function(e,n,t){t.d(n,{_:function(){return i}});var i=function(e){return e.components.items}},9654:function(e,n,t){t.d(n,{K:function(){return s},q:function(){return i}});var i=function(e){return e.products.items},s=function(e){return e.products.activeItem}}}]);
//# sourceMappingURL=241.7b6d4388.chunk.js.map