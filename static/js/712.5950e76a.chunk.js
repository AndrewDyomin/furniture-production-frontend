"use strict";(self.webpackChunkfurniture_production_frontend=self.webpackChunkfurniture_production_frontend||[]).push([[712],{381:function(e,r,a){a.d(r,{N:function(){return c}});var n=a(3439),t=a(7948),s=a.n(t),l="PopUp_modalCloseButton__m06-1",i="PopUp_menuIcon__5-11v",d=a(184),c=function(e){var r=e.isOpen,a=e.close,t=e.body;return(0,d.jsxs)(s(),{isOpen:r,onRequestClose:a,style:{overlay:{backgroundColor:"rgba(9, 9, 9, 0.75)",position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",minWidth:"300px",maxWidth:"80%",width:"auto",maxHeight:"80%",padding:"50px 20px",borderRadius:"12px",border:"2px solid black",backgroundColor:"FFF",transition:"top 0.3s ease-in-out"}},ariaHideApp:!1,children:[(0,d.jsx)("button",{className:l,type:"button",onClick:a,children:(0,d.jsx)("svg",{className:i,children:(0,d.jsx)("use",{href:"".concat(n.Z,"#icon-close-circle")})})}),t]})}},9712:function(e,r,a){a.r(r),a.d(r,{default:function(){return P}});var n=a(2791),t=a(4420),s=a(3050),l=a(8384),i=a(5861),d=a(3433),c=a(9439),o=a(4687),u=a.n(o),m=a(8363),p=a.n(m),f=a(7689),x=a(1087),h="Order_wrapper__hSe-H",b="Order_onePart__z8EQC",v="Order_twoPart__kW2Wj",_="Order_done__PAJ0w",j="Order_number__YkUyJ",g="Order_discription__O8Cz6",N="Order_orderName__2RZDO",O="Order_orderDeadline__N6MRk",y="Order_orderFabric__Dd6Qe",F="Order_orderDealer__Dw2lE",L="Order_backgroundBlue__WKiIX",k="Order_backgroundGreen__-mewF",C=a(6502),E=a(4217),S=a(4805),Z=a(184),I=function(e){var r=e.id,a=(0,t.v9)(C.pi).allOrdersArray.find((function(e){return e._id===r})),n=new Date(a.plannedDeadline),s=(0,t.v9)(E.dy),l=(0,S.useMediaQuery)({query:"(max-width: 833px)"}),i=y,d=h;return"ordered"===a.fabricStatus?i="".concat(y," ").concat(L):"received"===a.fabricStatus&&(i="".concat(y," ").concat(k)),"TRUE"===a.orderStatus?d="".concat(h," ").concat(_):"TRUE"===a.coverStatus&&"TRUE"===a.frameStatus?d="".concat(h," ").concat(v):"TRUE"!==a.coverStatus&&"TRUE"!==a.frameStatus||(d="".concat(h," ").concat(b)),(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("p",{className:j,children:a.number}),(0,Z.jsxs)("div",{className:g,children:[(0,Z.jsxs)("p",{className:N,children:[!l&&a.group," ",a.name]}),"administrator"===s.description||"seamstress"===s.description?(0,Z.jsx)("p",{className:i,children:a.fabric}):(0,Z.jsx)(Z.Fragment,{}),l&&(0,Z.jsx)("p",{className:O,children:"".concat(n.getDate(),".").concat(n.getMonth()+1,".").concat(n.getFullYear())}),(0,Z.jsx)("p",{className:F,children:a.dealer})]})]})},R=a(381),A=a(5705),q=a(8007),w=a(5294),z=a(5218),T=a(9230),D={list:"OrdersList_list__QGi1g",item:"OrdersList_item__AQirm",orderLink:"OrdersList_orderLink__1O6g2",navigation:"OrdersList_navigation__3Rmp5",addOrderBtn:"OrdersList_addOrderBtn__vAwBs",formWrapper:"OrdersList_formWrapper__D+6CQ",formItem:"OrdersList_formItem__EveLI",label:"OrdersList_label__mx1aV",field:"OrdersList_field__b6Rcj",formError:"OrdersList_formError__FYCQa",btn:"OrdersList_btn__vek9I",dateWrapper:"OrdersList_dateWrapper__-kC8y",dayTitle:"OrdersList_dayTitle__aqtaK",dateItem:"OrdersList_dateItem__q1vzl"},U=a(5842);w.Z.defaults.baseURL="https://furniture-production.onrender.com/";var W=function(){var e=(0,T.$G)().t,r=(0,S.useMediaQuery)({query:"(max-width: 833px)"}),a=[{value:"".concat(e("sofa")),label:"".concat(e("sofa"))},{value:"".concat(e("bed")),label:"".concat(e("bed"))},{value:"".concat(e("kitchen banquette")),label:"".concat(e("kitchen banquette"))},{value:"".concat(e("pouf")),label:"".concat(e("pouf"))}],s=[{value:"160 x 200",label:"160 x 200"},{value:"180 x 200",label:"180 x 200"},{value:"200 x 200",label:"200 x 200"},{value:"160 x 190",label:"160 x 190"},{value:"180 x 190",label:"180 x 190"},{value:"200 x 190",label:"200 x 190"},{value:"90 x 200",label:"90 x 200"},{value:"120 x 200",label:"120 x 200"},{value:"140 x 200",label:"140 x 200"},{value:"90 x 190",label:"90 x 190"},{value:"120 x 190",label:"120 x 190"},{value:"140 x 190",label:"140 x 190"}],o=(0,n.useState)(""),m=(0,c.Z)(o,2),h=m[0],b=m[1],v=(0,n.useState)(!1),_=(0,c.Z)(v,2),j=_[0],g=_[1],N=(0,n.useState)({value:"".concat(e("sofa")),label:"".concat(e("sofa"))}),O=(0,c.Z)(N,2),y=O[0],F=O[1],L=(0,n.useState)({value:"160 x 200",label:"160 x 200"}),k=(0,c.Z)(L,2),W=k[0],P=k[1],H=(0,n.useState)(""),Q=(0,c.Z)(H,2),B=Q[0],M=Q[1],V=(0,n.useState)(!1),Y=(0,c.Z)(V,2),K=Y[0],G=Y[1],J=(0,f.TH)(),X=(0,t.v9)(E.dy),$=(0,t.I0)(),ee=(0,t.v9)(C.NH),re=(0,t.v9)(C.pi),ae=[],ne=re.allOrdersArray,te=[],se=[{value:"",label:"All"}];re.allOrdersArray&&(re.allOrdersArray.forEach((function(e,r){ae.push({value:"".concat(e.dealer),label:"".concat(e.dealer)})})),ae.forEach((function(e){se.some((function(r){return r.value.toLowerCase()===e.value.toLowerCase()}))||se.push(e)}))),"seamstress"===X.description&&(ne=re.allOrdersArray&&0!==re.allOrdersArray.length?re.allOrdersArray.filter((function(e){return"TRUE"!==e.coverStatus})):[]),"carpenter"===X.description&&(ne=re.allOrdersArray&&0!==re.allOrdersArray.length?re.allOrdersArray.filter((function(e){return"TRUE"!==e.frameStatus})):[]),"upholsterer"===X.description&&(ne=re.allOrdersArray&&0!==re.allOrdersArray.length?re.allOrdersArray.filter((function(e){return"TRUE"!==e.orderStatus})):[]);var le=ne&&0!==ne.length?ne.filter((function(e){return e.dealer.toLowerCase().includes(h.toLowerCase())})):[],ie=function(){g(!1),document.body.classList.remove("modal-open")},de=function(e){M((0,d.Z)(e.target.files))};function ce(e){var r=new Date(e),a=r.getMonth()+1;return"".concat(r.getDate().toString().padStart(2,"0"),".").concat(a.toString().padStart(2,"0"),".").concat(r.getFullYear())}var oe=q.Ry().shape({group:q.Z_().required("Required"),name:q.Z_().required("Required"),size:q.Z_().required("Required"),fabric:q.Z_().required("Required"),description:q.Z_().required("Required"),number:q.Z_().required("Required"),adress:q.Z_(),rest:q.Z_(),deadline:q.Rx().min(10,"Too Short!").max(60,"Too Long!").required("Required")});r||le.forEach((function(e,r){var a=ce(e.plannedDeadline);!te.includes(a)&&te.push(a)}));var ue=function(){return r?(0,Z.jsx)("ul",{className:D.list,children:le.map((function(e){var r=e._id;return(0,Z.jsx)("li",{className:D.item,children:(0,Z.jsx)(x.rU,{to:"".concat(r),state:{from:J},className:D.orderLink,onClick:function(){return $((0,l.zH)(re.allOrdersArray.find((function(e){return e._id===r}))))},children:(0,Z.jsx)(I,{id:r})})},r)}))}):(0,Z.jsx)("ul",{className:D.list,children:te.map((function(e){return(0,Z.jsxs)("li",{className:D.dateItem,children:[(0,Z.jsx)("p",{className:D.dayTitle,children:e}),(0,Z.jsx)("ul",{className:"".concat(D.list," ").concat(D.dateWrapper),children:le.map((function(r){var a=r._id;return ce(r.plannedDeadline)===e&&(0,Z.jsx)("li",{className:D.item,children:(0,Z.jsx)(x.rU,{to:"".concat(a),state:{from:J},className:D.orderLink,onClick:function(){return $((0,l.zH)(re.allOrdersArray.find((function(e){return e._id===a}))))},children:(0,Z.jsx)(I,{id:a})})},a)}))})]},e)}))})};return(0,Z.jsxs)("div",{className:D.container,children:[(0,Z.jsxs)("div",{className:D.navigation,children:[(0,Z.jsx)(U.ZP,{className:D.filter,name:"filter",id:"filter",onChange:function(e){return b(e.value)},options:se,defaultValue:h,placeholder:e("filter")}),(0,Z.jsx)("button",{className:"".concat(D.btn," ").concat(D.addOrderBtn),onClick:function(){g(!0),document.body.classList.add("modal-open")},children:e("add order")})]}),ee?(0,Z.jsx)(p(),{color:"#c8c19b",cssOverride:{marginTop:"15px",display:"flex",justifyContent:"center"}}):(0,Z.jsx)(Z.Fragment,{}),0!==le.length?(0,Z.jsx)(ue,{}):(0,Z.jsx)(Z.Fragment,{}),(0,Z.jsx)(R.N,{isOpen:j,close:ie,body:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:D.orderModalWrapper,children:(0,Z.jsx)(A.J9,{initialValues:{group:y.value,name:"",size:"",fabric:"",description:"",number:"",adress:"",rest:"",deadline:""},validationSchema:oe,onSubmit:function(){var e=(0,i.Z)(u().mark((function e(r,a){var n,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.resetForm,e.prev=1,G(!0),(t=new FormData).append("group",y.value),t.append("name",r.name),t.append("size",r.size),t.append("fabric",r.fabric),"bed"===y.value?t.append("description",r.description+" \u0421\u043f\u0430\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e ".concat(W.value)):t.append("description",r.description),t.append("number",r.number),t.append("adress",r.adress),t.append("rest",r.rest),t.append("deadline",r.deadline),B&&0!==B.length&&B.forEach((function(e){t.append("file",e)})),e.next=16,w.Z.post("/orders/add",t,{headers:{"Content-Type":"multipart/form-data"}});case 16:z.ZP.success("Order sended"),n(),G(!1),ie(),$((0,l.h_)()),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),z.ZP.error("".concat(e.t0.response.data.message));case 26:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(r,a){return e.apply(this,arguments)}}(),children:function(r){var n=r.errors,t=r.touched;return(0,Z.jsxs)(A.l0,{className:D.formWrapper,children:[(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"group",children:e("group")}),(0,Z.jsx)(A.gN,{component:U.ZP,name:"group",id:"group",onChange:function(e){return F(e)},options:a,defaultValue:y.value,placeholder:y.label}),n.group&&t.group?(0,Z.jsx)("div",{children:n.group}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"name",children:e("order name")}),(0,Z.jsx)(A.gN,{className:n.name&&t.name?"".concat(D.field," ").concat(D.formError):D.field,id:"name",name:"name",placeholder:"Faynee mini"}),n.name&&t.name?(0,Z.jsx)("div",{children:n.name}):null]}),y.value==="".concat(e("bed"))?(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"sleepingArea",children:e("sleeping area")}),(0,Z.jsx)(A.gN,{component:U.ZP,name:"sleepingArea",id:"sleepingArea",onChange:function(e){return P(e)},options:s,defaultValue:W.value,placeholder:W.value})]}):(0,Z.jsx)(Z.Fragment,{}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"size",children:e("size")}),(0,Z.jsx)(A.gN,{className:n.size&&t.size?"".concat(D.field," ").concat(D.formError):D.field,id:"size",name:"size",placeholder:"".concat(e("overall size"))}),n.size&&t.size?(0,Z.jsx)("div",{children:n.size}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"fabric",children:e("fabric")}),(0,Z.jsx)(A.gN,{className:n.fabric&&t.fabric?"".concat(D.field," ").concat(D.formError):D.field,id:"fabric",name:"fabric",placeholder:e("fabric name")}),n.fabric&&t.fabric?(0,Z.jsx)("div",{children:n.fabric}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"description",children:e("description")}),(0,Z.jsx)(A.gN,{className:n.description&&t.description?"".concat(D.field," ").concat(D.formError):D.field,id:"description",name:"description",placeholder:e("description")}),n.description&&t.description?(0,Z.jsx)("div",{children:n.description}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"number",children:e("number")}),(0,Z.jsx)(A.gN,{className:n.number&&t.number?"".concat(D.field," ").concat(D.formError):D.field,id:"number",name:"number",placeholder:"125"}),n.number&&t.number?(0,Z.jsx)("div",{children:n.number}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"adress",children:e("adress")}),(0,Z.jsx)(A.gN,{className:n.adress&&t.adress?"".concat(D.field," ").concat(D.formError):D.field,id:"adress",name:"adress",placeholder:e("Kiev, Kyrylivska street, 103")}),n.adress&&t.adress?(0,Z.jsx)("div",{children:n.adress}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"rest",children:e("rest")}),(0,Z.jsx)(A.gN,{className:n.rest&&t.rest?"".concat(D.field," ").concat(D.formError):D.field,id:"rest",name:"rest",placeholder:"21000"}),n.rest&&t.rest?(0,Z.jsx)("div",{children:n.rest}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"deadline",children:e("deadline")}),(0,Z.jsx)(A.gN,{className:n.deadline&&t.deadline?"".concat(D.field," ").concat(D.formError):D.field,id:"deadline",name:"deadline",placeholder:"21"}),n.deadline&&t.deadline?(0,Z.jsx)("div",{children:n.deadline}):null]}),(0,Z.jsxs)("div",{className:D.formItem,children:[(0,Z.jsx)("label",{htmlFor:"files",children:e("add new images")}),(0,Z.jsx)(A.gN,{className:D.field,id:"files",name:"files",type:"file",onChange:de,multiple:!0})]}),(0,Z.jsx)("button",{type:"submit",className:D.btn,children:K?(0,Z.jsx)(p(),{color:"#c8c19b",size:"10px"}):"".concat(e("submit"))})]})}})})})})]})};function P(){var e=(0,t.I0)();return(0,n.useEffect)((function(){e((0,l.zH)({})),e((0,l.h_)())}),[e]),(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(s.B6,{children:[(0,Z.jsx)(s.ql,{children:(0,Z.jsx)("title",{children:"Your orders"})}),(0,Z.jsx)(W,{})]})})}},6502:function(e,r,a){a.d(r,{NH:function(){return s},ST:function(){return t},pi:function(){return n}});var n=function(e){return e.orders.items},t=function(e){return e.orders.activeItem},s=function(e){return e.orders.isLoading}}}]);
//# sourceMappingURL=712.5950e76a.chunk.js.map